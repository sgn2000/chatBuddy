import{$ as yn,$a as ft,A as Zr,Aa as Vt,B as _n,Ba as Nt,Bd as En,C as Ue,Ca as xe,D as yi,Da as co,E as Kr,Ea as lo,F as Xr,Fa as O,G as Qr,Ga as wn,H as Ce,Ha as C,Hc as K,I as Jr,Ia as pe,J,Ja as l,Jd as Be,K as z,Ka as u,L as eo,La as V,Ld as ue,M as st,Ma as N,Mc as xn,N as x,Na as le,Nc as wo,O as We,Oa as q,P as to,Pa as b,Q as G,Qa as v,Qc as ge,R as Di,Ra as uo,S as k,Sa as Pi,T as _,Ta as Ii,U as kt,Ua as ho,V as be,Va as p,W as qe,Wa as B,X,Xa as W,Y as no,Ya as Ee,Z as wi,Za as Oe,_ as io,_a as Ae,a as m,aa as Me,ab as _e,b as I,ba as at,bb as fo,c as F,ca as D,cb as po,d as zr,da as w,db as Sn,e as Gr,ea as ne,eb as Lt,ed as So,f as vi,fa as ct,fb as go,g as Ci,ga as Ye,gb as Fi,h as Se,ha as Dn,hb as Ri,i as L,ia as ro,ib as mo,j as je,ja as ce,jb as vo,jc as Mn,k as ie,ka as Ze,kb as Ke,l as y,la as Si,lb as Co,m as Ft,ma as lt,mb as bo,n as Hr,na as oo,nb as jt,nc as Do,o as Wr,oa as Mi,ob as Ut,p as R,pa as so,pb as Pe,pd as $t,q as Rt,qa as ut,qb as _o,r as ae,ra as xi,rb as yo,s as qr,sa as Ei,sc as Bt,t as bi,ta as Oi,u as Yr,ua as dt,v as it,va as h,w as rt,wa as M,wd as ye,x as Tt,xa as Ai,y as _i,ya as ao,z as ot,za as ht,zc as Xe}from"./chunk-WR6XY3YH.js";var Po=null;function Re(){return Po}function Io(t){Po??=t}var Vn=class{};var he=new G(""),Fo=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(ga),providedIn:"platform"})}}return t})();var ga=(()=>{class t extends Fo{constructor(){super(),this._doc=_(he),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Re().getBaseHref(this._doc)}onPopState(e){let i=Re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ro(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function Mo(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function Qe(t){return t&&t[0]!=="?"?"?"+t:t}var jn=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(To),providedIn:"root"})}}return t})(),ma=new G(""),To=(()=>{class t extends jn{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??_(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ro(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Qe(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Qe(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(k(Fo),k(ma,8))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zt=(()=>{class t{constructor(e){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=ba(Mo(xo(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return t.stripTrailingSlash(Ca(this._basePath,xo(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=Qe}static{this.joinWithSlash=Ro}static{this.stripTrailingSlash=Mo}static{this.\u0275fac=function(i){return new(i||t)(k(jn))}}static{this.\u0275prov=x({token:t,factory:()=>va(),providedIn:"root"})}}return t})();function va(){return new zt(k(jn))}function Ca(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function xo(t){return t.replace(/\/index.html$/,"")}function ba(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var ee=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(ee||{}),j=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(j||{}),re=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(re||{}),$e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _a(t){return le(t)[q.LocaleId]}function ya(t,n,e){let i=le(t),r=[i[q.DayPeriodsFormat],i[q.DayPeriodsStandalone]],o=de(r,n);return de(o,e)}function Da(t,n,e){let i=le(t),r=[i[q.DaysFormat],i[q.DaysStandalone]],o=de(r,n);return de(o,e)}function wa(t,n,e){let i=le(t),r=[i[q.MonthsFormat],i[q.MonthsStandalone]],o=de(r,n);return de(o,e)}function Sa(t,n){let i=le(t)[q.Eras];return de(i,n)}function On(t,n){let e=le(t);return de(e[q.DateFormat],n)}function An(t,n){let e=le(t);return de(e[q.TimeFormat],n)}function Pn(t,n){let i=le(t)[q.DateTimeFormat];return de(i,n)}function Un(t,n){let e=le(t),i=e[q.NumberSymbols][n];if(typeof i>"u"){if(n===$e.CurrencyDecimal)return e[q.NumberSymbols][$e.Decimal];if(n===$e.CurrencyGroup)return e[q.NumberSymbols][$e.Group]}return i}function ko(t){if(!t[q.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[q.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ma(t){let n=le(t);return ko(n),(n[q.ExtraData][2]||[]).map(i=>typeof i=="string"?Ti(i):[Ti(i[0]),Ti(i[1])])}function xa(t,n,e){let i=le(t);ko(i);let r=[i[q.ExtraData][0],i[q.ExtraData][1]],o=de(r,n)||[];return de(o,e)||[]}function de(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Ti(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var Ea=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,In={},Oa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fe=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fe||{}),P=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(P||{}),A=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(A||{});function Aa(t,n,e,i){let r=La(t);n=Ie(e,n)||n;let s=[],a;for(;n;)if(a=Oa.exec(n),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;n=f}else{s.push(n);break}let c=r.getTimezoneOffset();i&&(c=No(i,c),r=Na(r,i,!0));let d="";return s.forEach(f=>{let g=ka(f);d+=g?g(r,e,c):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Nn(t,n,e){let i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function Ie(t,n){let e=_a(t);if(In[e]??={},In[e][n])return In[e][n];let i="";switch(n){case"shortDate":i=On(t,re.Short);break;case"mediumDate":i=On(t,re.Medium);break;case"longDate":i=On(t,re.Long);break;case"fullDate":i=On(t,re.Full);break;case"shortTime":i=An(t,re.Short);break;case"mediumTime":i=An(t,re.Medium);break;case"longTime":i=An(t,re.Long);break;case"fullTime":i=An(t,re.Full);break;case"short":let r=Ie(t,"shortTime"),o=Ie(t,"shortDate");i=Fn(Pn(t,re.Short),[r,o]);break;case"medium":let s=Ie(t,"mediumTime"),a=Ie(t,"mediumDate");i=Fn(Pn(t,re.Medium),[s,a]);break;case"long":let c=Ie(t,"longTime"),d=Ie(t,"longDate");i=Fn(Pn(t,re.Long),[c,d]);break;case"full":let f=Ie(t,"fullTime"),g=Ie(t,"fullDate");i=Fn(Pn(t,re.Full),[f,g]);break}return i&&(In[e][n]=i),i}function Fn(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return n!=null&&i in n?n[i]:e})),t}function me(t,n,e="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<n;)s="0"+s;return i&&(s=s.slice(s.length-n)),o+s}function Pa(t,n){return me(t,3).substring(0,n)}function Y(t,n,e=0,i=!1,r=!1){return function(o,s){let a=Ia(t,o);if((e>0||a>-e)&&(a+=e),t===P.Hours)a===0&&e===-12&&(a=12);else if(t===P.FractionalSeconds)return Pa(a,n);let c=Un(s,$e.MinusSign);return me(a,n,c,i,r)}}function Ia(t,n){switch(t){case P.FullYear:return n.getFullYear();case P.Month:return n.getMonth();case P.Date:return n.getDate();case P.Hours:return n.getHours();case P.Minutes:return n.getMinutes();case P.Seconds:return n.getSeconds();case P.FractionalSeconds:return n.getMilliseconds();case P.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function U(t,n,e=ee.Format,i=!1){return function(r,o){return Fa(r,o,t,n,e,i)}}function Fa(t,n,e,i,r,o){switch(e){case A.Months:return wa(n,r,i)[t.getMonth()];case A.Days:return Da(n,r,i)[t.getDay()];case A.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let d=Ma(n),f=xa(n,r,i),g=d.findIndex(E=>{if(Array.isArray(E)){let[$,H]=E,te=s>=$.hours&&a>=$.minutes,Z=s<H.hours||s===H.hours&&a<H.minutes;if($.hours<H.hours){if(te&&Z)return!0}else if(te||Z)return!0}else if(E.hours===s&&E.minutes===a)return!0;return!1});if(g!==-1)return f[g]}return ya(n,r,i)[s<12?0:1];case A.Eras:return Sa(n,i)[t.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function Rn(t){return function(n,e,i){let r=-1*i,o=Un(e,$e.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Fe.Short:return(r>=0?"+":"")+me(s,2,o)+me(Math.abs(r%60),2,o);case Fe.ShortGMT:return"GMT"+(r>=0?"+":"")+me(s,1,o);case Fe.Long:return"GMT"+(r>=0?"+":"")+me(s,2,o)+":"+me(Math.abs(r%60),2,o);case Fe.Extended:return i===0?"Z":(r>=0?"+":"")+me(s,2,o)+":"+me(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Ra=0,kn=4;function Ta(t){let n=Nn(t,Ra,1).getDay();return Nn(t,0,1+(n<=kn?kn:kn+7)-n)}function Vo(t){let n=t.getDay(),e=n===0?-3:kn-n;return Nn(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ki(t,n=!1){return function(e,i){let r;if(n){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=Vo(e),s=Ta(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return me(r,t,Un(i,$e.MinusSign))}}function Tn(t,n=!1){return function(e,i){let o=Vo(e).getFullYear();return me(o,t,Un(i,$e.MinusSign),n)}}var Vi={};function ka(t){if(Vi[t])return Vi[t];let n;switch(t){case"G":case"GG":case"GGG":n=U(A.Eras,j.Abbreviated);break;case"GGGG":n=U(A.Eras,j.Wide);break;case"GGGGG":n=U(A.Eras,j.Narrow);break;case"y":n=Y(P.FullYear,1,0,!1,!0);break;case"yy":n=Y(P.FullYear,2,0,!0,!0);break;case"yyy":n=Y(P.FullYear,3,0,!1,!0);break;case"yyyy":n=Y(P.FullYear,4,0,!1,!0);break;case"Y":n=Tn(1);break;case"YY":n=Tn(2,!0);break;case"YYY":n=Tn(3);break;case"YYYY":n=Tn(4);break;case"M":case"L":n=Y(P.Month,1,1);break;case"MM":case"LL":n=Y(P.Month,2,1);break;case"MMM":n=U(A.Months,j.Abbreviated);break;case"MMMM":n=U(A.Months,j.Wide);break;case"MMMMM":n=U(A.Months,j.Narrow);break;case"LLL":n=U(A.Months,j.Abbreviated,ee.Standalone);break;case"LLLL":n=U(A.Months,j.Wide,ee.Standalone);break;case"LLLLL":n=U(A.Months,j.Narrow,ee.Standalone);break;case"w":n=ki(1);break;case"ww":n=ki(2);break;case"W":n=ki(1,!0);break;case"d":n=Y(P.Date,1);break;case"dd":n=Y(P.Date,2);break;case"c":case"cc":n=Y(P.Day,1);break;case"ccc":n=U(A.Days,j.Abbreviated,ee.Standalone);break;case"cccc":n=U(A.Days,j.Wide,ee.Standalone);break;case"ccccc":n=U(A.Days,j.Narrow,ee.Standalone);break;case"cccccc":n=U(A.Days,j.Short,ee.Standalone);break;case"E":case"EE":case"EEE":n=U(A.Days,j.Abbreviated);break;case"EEEE":n=U(A.Days,j.Wide);break;case"EEEEE":n=U(A.Days,j.Narrow);break;case"EEEEEE":n=U(A.Days,j.Short);break;case"a":case"aa":case"aaa":n=U(A.DayPeriods,j.Abbreviated);break;case"aaaa":n=U(A.DayPeriods,j.Wide);break;case"aaaaa":n=U(A.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":n=U(A.DayPeriods,j.Abbreviated,ee.Standalone,!0);break;case"bbbb":n=U(A.DayPeriods,j.Wide,ee.Standalone,!0);break;case"bbbbb":n=U(A.DayPeriods,j.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":n=U(A.DayPeriods,j.Abbreviated,ee.Format,!0);break;case"BBBB":n=U(A.DayPeriods,j.Wide,ee.Format,!0);break;case"BBBBB":n=U(A.DayPeriods,j.Narrow,ee.Format,!0);break;case"h":n=Y(P.Hours,1,-12);break;case"hh":n=Y(P.Hours,2,-12);break;case"H":n=Y(P.Hours,1);break;case"HH":n=Y(P.Hours,2);break;case"m":n=Y(P.Minutes,1);break;case"mm":n=Y(P.Minutes,2);break;case"s":n=Y(P.Seconds,1);break;case"ss":n=Y(P.Seconds,2);break;case"S":n=Y(P.FractionalSeconds,1);break;case"SS":n=Y(P.FractionalSeconds,2);break;case"SSS":n=Y(P.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Rn(Fe.Short);break;case"ZZZZZ":n=Rn(Fe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Rn(Fe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Rn(Fe.Long);break;default:return null}return Vi[t]=n,n}function No(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function Va(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function Na(t,n,e){let i=e?-1:1,r=t.getTimezoneOffset(),o=No(n,r);return Va(t,i*(o-r))}function La(t){if(Eo(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return Nn(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Ea))return ja(i)}let n=new Date(t);if(!Eo(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function ja(t){let n=new Date(0),e=0,i=0,r=t[8]?n.setUTCFullYear:n.setFullYear,o=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,a=Number(t[5]||0)-i,c=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(n,s,a,c,d),n}function Eo(t){return t instanceof Date&&!isNaN(t.valueOf())}function Lo(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Ni=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bn=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Ni(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),Oo(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Oo(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(Vt),M(Ai),M(Co))}}static{this.\u0275dir=X({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Oo(t,n){t.context.$implicit=n.item}var ze=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ao("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ao("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(M(Vt),M(Ai))}}static{this.\u0275dir=X({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Li=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ao(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${eo(n)}'.`)}function Ua(t,n){return new z(2100,!1)}var Ba="mediumDate",$a=new G(""),za=new G(""),jo=(()=>{class t{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??Ba,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Aa(e,s,o||this.locale,a)}catch(s){throw Ua(t,s.message)}}static{this.\u0275fac=function(i){return new(i||t)(M(vo,16),M($a,24),M(za,24))}}static{this.\u0275pipe=no({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var ke=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=qe({type:t})}static{this.\u0275inj=We({})}}return t})(),Uo="browser",Ga="server";function Ui(t){return t===Ga}var Ln=class{};var zi=class extends Vn{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gi=class t extends zi{static makeCurrent(){Io(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=qa();return e==null?null:Ya(e)}resetBaseElement(){Gt=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Lo(document.cookie,n)}},Gt=null;function qa(){return Gt=Gt||document.querySelector("base"),Gt?Gt.getAttribute("href"):null}function Ya(t){return new URL(t,document.baseURI).pathname}var Za=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Hi=new G(""),Go=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(k(Hi),k(Ze))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),zn=class{constructor(n){this._doc=n}},Bi="ng-app-id",Ho=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ui(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Bi}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Bi),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Bi,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(k(he),k(Mi),k(xi,8),k(ut))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),$i={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qi=/%COMP%/g,Wo="%COMP%",Ka=`_nghost-${Wo}`,Xa=`_ngcontent-${Wo}`,Qa=!0,Ja=new G("",{providedIn:"root",factory:()=>Qa});function ec(t){return Xa.replace(qi,t)}function tc(t){return Ka.replace(qi,t)}function qo(t,n){return n.map(e=>e.replace(qi,t))}var Bo=(()=>{class t{constructor(e,i,r,o,s,a,c,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ui(a),this.defaultRenderer=new Ht(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===kt.ShadowDom&&(i=I(m({},i),{encapsulation:kt.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Gn?r.applyToHost(e):r instanceof Wt&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case kt.Emulated:o=new Gn(c,d,i,this.appId,f,s,a,g);break;case kt.ShadowDom:return new Wi(c,d,e,i,s,a,this.nonce,g);default:o=new Wt(c,d,i,f,s,a,g);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(k(Go),k(Ho),k(Mi),k(Ja),k(he),k(ut),k(Ze),k(xi))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Ht=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS($i[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){($o(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&($o(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){e.remove()}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new z(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=$i[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=$i[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(dt.DashCase|dt.Important)?n.style.setProperty(e,i,r&dt.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&dt.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=Re().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function $o(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wi=class extends Ht{constructor(n,e,i,r,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=qo(r.id,r.styles);for(let f of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wt=class extends Ht{constructor(n,e,i,r,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?qo(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gn=class extends Wt{constructor(n,e,i,r,o,s,a,c){let d=r+"-"+i.id;super(n,e,i,o,s,a,c,d),this.contentAttr=ec(d),this.hostAttr=tc(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},nc=(()=>{class t extends zn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(k(he))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),zo=["alt","control","meta","shift"],ic={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oc=(()=>{class t extends zn{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Re().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),zo.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=ic[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),zo.forEach(s=>{if(s!==r){let a=rc[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(k(he))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();function Yo(t,n,e){return bo(m({rootComponent:t,platformRef:e?.platformRef},sc(n)))}function sc(t){return{appProviders:[...dc,...t?.providers??[]],platformProviders:uc}}function ac(){Gi.makeCurrent()}function cc(){return new Si}function lc(){return oo(document),document}var uc=[{provide:ut,useValue:Uo},{provide:so,useValue:ac,multi:!0},{provide:he,useFactory:lc,deps:[]}];var dc=[{provide:io,useValue:"root"},{provide:Si,useFactory:cc,deps:[]},{provide:Hi,useClass:nc,multi:!0,deps:[he,Ze,ut]},{provide:Hi,useClass:oc,multi:!0,deps:[he]},Bo,Ho,Go,{provide:ao,useExisting:Bo},{provide:Ln,useClass:Za,deps:[]},[]];var Zo=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(k(he))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var S="primary",un=Symbol("RouteTitle"),Qi=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function bt(t){return new Qi(t)}function fc(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function pc(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!De(t[e],n[e]))return!1;return!0}function De(t,n){let e=t?Ji(t):void 0,i=n?Ji(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!is(t[r],n[r]))return!1;return!0}function Ji(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function is(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function rs(t){return t.length>0?t[t.length-1]:null}function Ge(t){return Hr(t)?t:Lt(t)?ie(Promise.resolve(t)):y(t)}var gc={exact:ss,subset:as},os={exact:mc,subset:vc,ignored:()=>!0};function Ko(t,n,e){return gc[e.paths](t.root,n.root,e.matrixParams)&&os[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function mc(t,n){return De(t,n)}function ss(t,n,e){if(!et(t.segments,n.segments)||!qn(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!ss(t.children[i],n.children[i],e))return!1;return!0}function vc(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>is(t[e],n[e]))}function as(t,n,e){return cs(t,n,n.segments,e)}function cs(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!et(r,e)||n.hasChildren()||!qn(r,e,i))}else if(t.segments.length===e.length){if(!et(t.segments,e)||!qn(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!as(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!et(t.segments,r)||!qn(t.segments,r,i)||!t.children[S]?!1:cs(t.children[S],n,o,i)}}function qn(t,n,e){return n.every((i,r)=>os[e](t[r].parameters,i.parameters))}var Ne=class{constructor(n=new T([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=bt(this.queryParams),this._queryParamMap}toString(){return _c.serialize(this)}},T=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yn(this)}},Je=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=bt(this.parameters),this._parameterMap}toString(){return us(this)}};function Cc(t,n){return et(t,n)&&t.every((e,i)=>De(e.parameters,n[i].parameters))}function et(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function bc(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===S&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==S&&(e=e.concat(n(r,i)))}),e}var Mr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>new Jt,providedIn:"root"})}}return t})(),Jt=class{parse(n){let e=new tr(n);return new Ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${qt(n.root,!0)}`,i=wc(n.queryParams),r=typeof n.fragment=="string"?`#${yc(n.fragment)}`:"";return`${e}${i}${r}`}},_c=new Jt;function Yn(t){return t.segments.map(n=>us(n)).join("/")}function qt(t,n){if(!t.hasChildren())return Yn(t);if(n){let e=t.children[S]?qt(t.children[S],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==S&&i.push(`${r}:${qt(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=bc(t,(i,r)=>r===S?[qt(t.children[S],!1)]:[`${r}:${qt(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[S]!=null?`${Yn(t)}/${e[0]}`:`${Yn(t)}/(${e.join("//")})`}}function ls(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(t){return ls(t).replace(/%3B/gi,";")}function yc(t){return encodeURI(t)}function er(t){return ls(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zn(t){return decodeURIComponent(t)}function Xo(t){return Zn(t.replace(/\+/g,"%20"))}function us(t){return`${er(t.path)}${Dc(t.parameters)}`}function Dc(t){return Object.entries(t).map(([n,e])=>`;${er(n)}=${er(e)}`).join("")}function wc(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Hn(e)}=${Hn(r)}`).join("&"):`${Hn(e)}=${Hn(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var Sc=/^[^\/()?;#]+/;function Yi(t){let n=t.match(Sc);return n?n[0]:""}var Mc=/^[^\/()?;=#]+/;function xc(t){let n=t.match(Mc);return n?n[0]:""}var Ec=/^[^=?&#]+/;function Oc(t){let n=t.match(Ec);return n?n[0]:""}var Ac=/^[^&#]+/;function Pc(t){let n=t.match(Ac);return n?n[0]:""}var tr=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new T([],{}):new T([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[S]=new T(n,e)),i}parseSegment(){let n=Yi(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(n),new Je(Zn(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=xc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Yi(this.remaining);r&&(i=r,this.capture(i))}n[Zn(e)]=Zn(i)}parseQueryParam(n){let e=Oc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=Pc(this.remaining);s&&(i=s,this.capture(i))}let r=Xo(e),o=Xo(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Yi(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=S);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[S]:new T([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new z(4011,!1)}};function ds(t){return t.segments.length>0?new T([],{[S]:t}):t}function hs(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=hs(r);if(i===S&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new T(t.segments,n);return Ic(e)}function Ic(t){if(t.numberOfChildren===1&&t.children[S]){let n=t.children[S];return new T(t.segments.concat(n.segments),n.children)}return t}function en(t){return t instanceof Ne}function Fc(t,n,e=null,i=null){let r=fs(t);return ps(r,n,e,i)}function fs(t){let n;function e(o){let s={};for(let c of o.children){let d=e(c);s[c.outlet]=d}let a=new T(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=ds(i);return n??r}function ps(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Zi(r,r,r,e,i);let o=Rc(n);if(o.toRoot())return Zi(r,r,new T([],{}),e,i);let s=Tc(o,r,t),a=s.processChildren?Kt(s.segmentGroup,s.index,o.commands):ms(s.segmentGroup,s.index,o.commands);return Zi(r,s.segmentGroup,a,e,i)}function Kn(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function tn(t){return typeof t=="object"&&t!=null&&t.outlets}function Zi(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===n?s=e:s=gs(t,n,e);let a=ds(hs(s));return new Ne(a,o,r)}function gs(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=gs(o,n,e)}),new T(t.segments,i)}var Xn=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Kn(i[0]))throw new z(4003,!1);let r=i.find(tn);if(r&&r!==rs(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rc(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xn(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,d])=>{a[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Xn(e,n,i)}var mt=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function Tc(t,n,e){if(t.isAbsolute)return new mt(n,!0,0);if(!e)return new mt(n,!1,NaN);if(e.parent===null)return new mt(e,!0,0);let i=Kn(t.commands[0])?0:1,r=e.segments.length-1+i;return kc(e,r,t.numberOfDoubleDots)}function kc(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new mt(i,!1,r-o)}function Vc(t){return tn(t[0])?t[0].outlets:{[S]:t}}function ms(t,n,e){if(t??=new T([],{}),t.segments.length===0&&t.hasChildren())return Kt(t,n,e);let i=Nc(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new T(t.segments.slice(0,i.pathIndex),{});return o.children[S]=new T(t.segments.slice(i.pathIndex),t.children),Kt(o,0,r)}else return i.match&&r.length===0?new T(t.segments,{}):i.match&&!t.hasChildren()?nr(t,n,e):i.match?Kt(t,0,r):nr(t,n,e)}function Kt(t,n,e){if(e.length===0)return new T(t.segments,{});{let i=Vc(e),r={};if(Object.keys(i).some(o=>o!==S)&&t.children[S]&&t.numberOfChildren===1&&t.children[S].segments.length===0){let o=Kt(t.children[S],n,e);return new T(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ms(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new T(t.segments,r)}}function Nc(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if(tn(a))break;let c=`${a}`,d=i<e.length-1?e[i+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!Jo(c,d,s))return o;i+=2}else{if(!Jo(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function nr(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if(tn(o)){let c=Lc(o.outlets);return new T(i,c)}if(r===0&&Kn(e[0])){let c=t.segments[n];i.push(new Je(c.path,Qo(e[0]))),r++;continue}let s=tn(o)?o.outlets[S]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Kn(a)?(i.push(new Je(s,Qo(a))),r+=2):(i.push(new Je(s,{})),r++)}return new T(i,{})}function Lc(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=nr(new T([],{}),0,i))}),n}function Qo(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function Jo(t,n,e){return t==e.path&&De(n,e.parameters)}var Xt="imperative",Q=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Q||{}),fe=class{constructor(n,e){this.id=n,this.url=e}},nn=class extends fe{constructor(n,e,i="imperative",r=null){super(n,e),this.type=Q.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Le=class extends fe{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=Q.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},se=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(se||{}),ir=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ir||{}),Ve=class extends fe{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Q.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tt=class extends fe{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Q.NavigationSkipped}},rn=class extends fe{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=Q.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qn=class extends fe{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Q.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rr=class extends fe{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Q.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},or=class extends fe{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Q.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sr=class extends fe{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Q.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ar=class extends fe{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Q.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cr=class{constructor(n){this.route=n,this.type=Q.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lr=class{constructor(n){this.route=n,this.type=Q.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ur=class{constructor(n){this.snapshot=n,this.type=Q.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dr=class{constructor(n){this.snapshot=n,this.type=Q.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hr=class{constructor(n){this.snapshot=n,this.type=Q.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fr=class{constructor(n){this.snapshot=n,this.type=Q.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var on=class{},_t=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function jc(t,n){return t.providers&&!t._injector&&(t._injector=lo(t.providers,n,`Route: ${t.path}`)),t._injector??n}function ve(t){return t.outlet||S}function Uc(t,n){let e=t.filter(i=>ve(i)===n);return e.push(...t.filter(i=>ve(i)!==n)),e}function dn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var pr=class{get injector(){return dn(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new oi(this.rootInjector),this.attachRef=null}},oi=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new pr(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)(k(yn))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jn=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=gr(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=gr(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=mr(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return mr(n,this._root).map(e=>e.value)}};function gr(t,n){if(t===n.value)return n;for(let e of n.children){let i=gr(t,e);if(i)return i}return null}function mr(t,n){if(t===n.value)return[n];for(let e of n.children){let i=mr(t,e);if(i.length)return i.unshift(n),i}return[]}var oe=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function gt(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var ei=class extends Jn{constructor(n,e){super(n),this.snapshot=e,xr(this,n)}toString(){return this.snapshot.toString()}};function vs(t){let n=Bc(t),e=new L([new Je("",{})]),i=new L({}),r=new L({}),o=new L({}),s=new L(""),a=new yt(e,i,o,s,r,S,t,n.root);return a.snapshot=n.root,new ei(new oe(a,[]),n)}function Bc(t){let n={},e={},i={},r="",o=new vt([],n,i,r,e,S,t,null,{});return new ni("",new oe(o,[]))}var yt=class{constructor(n,e,i,r,o,s,a,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(d=>d[un]))??y(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(n=>bt(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(n=>bt(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ti(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:m(m({},n.params),t.params),data:m(m({},n.data),t.data),resolve:m(m(m(m({},t.data),n.data),r?.data),t._resolvedData)}:i={params:m({},t.params),data:m({},t.data),resolve:m(m({},t.data),t._resolvedData??{})},r&&bs(r)&&(i.resolve[un]=r.title),i}var vt=class{get title(){return this.data?.[un]}constructor(n,e,i,r,o,s,a,c,d){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bt(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},ni=class extends Jn{constructor(n,e){super(e),this.url=n,xr(this,e)}toString(){return Cs(this._root)}};function xr(t,n){n.value._routerState=t,n.children.forEach(e=>xr(t,e))}function Cs(t){let n=t.children.length>0?` { ${t.children.map(Cs).join(", ")} } `:"";return`${t.value}${n}`}function Ki(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,De(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),De(n.params,e.params)||t.paramsSubject.next(e.params),pc(n.url,e.url)||t.urlSubject.next(e.url),De(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vr(t,n){let e=De(t.params,n.params)&&Cc(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||vr(t.parent,n.parent))}function bs(t){return typeof t.title=="string"||t.title===null}var Er=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=S,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=_(oi),this.location=_(Vt),this.changeDetector=_(Ke),this.inputBinder=_(Or,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Cr(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[at]})}}return t})(),Cr=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===yt?this.route:n===oi?this.childContexts:this.parent.get(n,e)}},Or=new G("");function $c(t,n,e){let i=sn(t,n._root,e?e._root:void 0);return new ei(i,n)}function sn(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=zc(t,n,e);return new oe(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>sn(t,a)),s}}let i=Gc(n.value),r=n.children.map(o=>sn(t,o));return new oe(i,r)}}function zc(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return sn(t,i,r);return sn(t,i)})}function Gc(t){return new yt(new L(t.url),new L(t.params),new L(t.queryParams),new L(t.fragment),new L(t.data),t.outlet,t.component,t)}var an=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},_s="ngNavigationCancelingError";function ii(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=en(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=ys(!1,se.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function ys(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[_s]=!0,e.cancellationCode=n,e}function Hc(t){return Ds(t)&&en(t.url)}function Ds(t){return!!t&&t[_s]}var Wc=(t,n,e,i)=>R(r=>(new br(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),br=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),Ki(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=gt(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=gt(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=gt(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=gt(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new fr(o.value.snapshot))}),n.children.length&&this.forwardEvent(new dr(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(Ki(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ki(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},ri=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Ct=class{constructor(n,e){this.component=n,this.route=e}};function qc(t,n,e){let i=t._root,r=n?n._root:null;return Yt(i,r,e,[i.value])}function Yc(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function wt(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!to(t)?t:n.get(t):i}function Yt(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=gt(n);return t.children.forEach(s=>{Zc(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qt(a,e.getContext(s),r)),r}function Zc(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Kc(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ri(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yt(t,n,a?a.children:null,i,r):Yt(t,n,e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ct(a.outlet.component,s))}else s&&Qt(n,a,r),r.canActivateChecks.push(new ri(i)),o.component?Yt(t,null,a?a.children:null,i,r):Yt(t,null,e,i,r);return r}function Kc(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!et(t.url,n.url);case"pathParamsOrQueryParamsChange":return!et(t.url,n.url)||!De(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(t,n)||!De(t.queryParams,n.queryParams);case"paramsChange":default:return!vr(t,n)}}function Qt(t,n,e){let i=gt(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?Qt(s,n.children.getContext(o),e):Qt(s,null,e):Qt(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Ct(n.outlet.component,r)):e.canDeactivateChecks.push(new Ct(null,r)):e.canDeactivateChecks.push(new Ct(null,r))}function hn(t){return typeof t=="function"}function Xc(t){return typeof t=="boolean"}function Qc(t){return t&&hn(t.canLoad)}function Jc(t){return t&&hn(t.canActivate)}function el(t){return t&&hn(t.canActivateChild)}function tl(t){return t&&hn(t.canDeactivate)}function nl(t){return t&&hn(t.canMatch)}function ws(t){return t instanceof Wr||t?.name==="EmptyError"}var Wn=Symbol("INITIAL_VALUE");function Dt(){return Ce(t=>Rt(t.map(n=>n.pipe(ot(1),Qr(Wn)))).pipe(R(n=>{for(let e of n)if(e!==!0){if(e===Wn)return Wn;if(e===!1||il(e))return e}return!0}),it(n=>n!==Wn),ot(1)))}function il(t){return en(t)||t instanceof an}function rl(t,n){return ae(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?y(I(m({},e),{guardsResult:!0})):ol(s,i,r,t).pipe(ae(a=>a&&Xc(a)?sl(i,o,t,n):y(a)),R(a=>I(m({},e),{guardsResult:a})))})}function ol(t,n,e,i){return ie(t).pipe(ae(r=>dl(r.component,r.route,e,n,i)),Ue(r=>r!==!0,!0))}function sl(t,n,e,i){return ie(n).pipe(Tt(r=>qr(cl(r.route.parent,i),al(r.route,i),ul(t,r.path,e),ll(t,r.route,e))),Ue(r=>r!==!0,!0))}function al(t,n){return t!==null&&n&&n(new hr(t)),y(!0)}function cl(t,n){return t!==null&&n&&n(new ur(t)),y(!0)}function ll(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return y(!0);let r=i.map(o=>bi(()=>{let s=dn(n)??e,a=wt(o,s),c=Jc(a)?a.canActivate(n,t):Me(s,()=>a(n,t));return Ge(c).pipe(Ue())}));return y(r).pipe(Dt())}function ul(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>Yc(s)).filter(s=>s!==null).map(s=>bi(()=>{let a=s.guards.map(c=>{let d=dn(s.node)??e,f=wt(c,d),g=el(f)?f.canActivateChild(i,t):Me(d,()=>f(i,t));return Ge(g).pipe(Ue())});return y(a).pipe(Dt())}));return y(o).pipe(Dt())}function dl(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return y(!0);let s=o.map(a=>{let c=dn(n)??r,d=wt(a,c),f=tl(d)?d.canDeactivate(t,n,e,i):Me(c,()=>d(t,n,e,i));return Ge(f).pipe(Ue())});return y(s).pipe(Dt())}function hl(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return y(!0);let o=r.map(s=>{let a=wt(s,t),c=Qc(a)?a.canLoad(n,e):Me(t,()=>a(n,e));return Ge(c)});return y(o).pipe(Dt(),Ss(i))}function Ss(t){return Gr(J(n=>{if(typeof n!="boolean")throw ii(t,n)}),R(n=>n===!0))}function fl(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return y(!0);let o=r.map(s=>{let a=wt(s,t),c=nl(a)?a.canMatch(n,e):Me(t,()=>a(n,e));return Ge(c)});return y(o).pipe(Dt(),Ss(i))}var cn=class{constructor(n){this.segmentGroup=n||null}},ln=class extends Error{constructor(n){super(),this.urlTree=n}};function pt(t){return Ft(new cn(t))}function pl(t){return Ft(new z(4e3,!1))}function gl(t){return Ft(ys(!1,se.GuardRejected))}var _r=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return y(i);if(r.numberOfChildren>1||!r.children[S])return pl(`${n.redirectTo}`);r=r.children[S]}}applyRedirectCommands(n,e,i,r,o){if(typeof e!="string"){let a=e,{queryParams:c,fragment:d,routeConfig:f,url:g,outlet:E,params:$,data:H,title:te}=r,Z=Me(o,()=>a({params:$,data:H,queryParams:c,fragment:d,routeConfig:f,url:g,outlet:E,title:te}));if(Z instanceof Ne)throw new ln(Z);e=Z}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e[0]==="/")throw new ln(s);return s}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Ne(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,i,r)}),new T(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},yr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ml(t,n,e,i,r){let o=Ms(t,n,e);return o.matched?(i=jc(n,i),fl(i,n,e,r).pipe(R(s=>s===!0?o:m({},yr)))):y(o)}function Ms(t,n,e){if(n.path==="**")return vl(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?m({},yr):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||fc)(e,t,n);if(!r)return m({},yr);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?m(m({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function vl(t){return{matched:!0,parameters:t.length>0?rs(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function es(t,n,e,i){return e.length>0&&_l(t,e,i)?{segmentGroup:new T(n,bl(i,new T(e,t.children))),slicedSegments:[]}:e.length===0&&yl(t,e,i)?{segmentGroup:new T(t.segments,Cl(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new T(t.segments,t.children),slicedSegments:e}}function Cl(t,n,e,i){let r={};for(let o of e)if(si(t,n,o)&&!i[ve(o)]){let s=new T([],{});r[ve(o)]=s}return m(m({},i),r)}function bl(t,n){let e={};e[S]=n;for(let i of t)if(i.path===""&&ve(i)!==S){let r=new T([],{});e[ve(i)]=r}return e}function _l(t,n,e){return e.some(i=>si(t,n,i)&&ve(i)!==S)}function yl(t,n,e){return e.some(i=>si(t,n,i))}function si(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Dl(t,n,e){return n.length===0&&!t.children[e]}var Dr=class{};function wl(t,n,e,i,r,o,s="emptyOnly"){return new wr(t,n,e,i,r,s,o).recognize()}var Sl=31,wr=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _r(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new z(4002,`'${n.segmentGroup}'`)}recognize(){let n=es(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(R(({children:e,rootSnapshot:i})=>{let r=new oe(i,e),o=new ni("",r),s=Fc(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let e=new vt([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),S,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,S,e).pipe(R(i=>({children:i,rootSnapshot:e})),rt(i=>{if(i instanceof ln)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof cn?this.noMatchError(i):i}))}processSegmentGroup(n,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i,o):this.processSegment(n,e,i,i.segments,r,!0,o).pipe(R(s=>s instanceof oe?[s]:[]))}processChildren(n,e,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Tt(s=>{let a=i.children[s],c=Uc(e,s);return this.processSegmentGroup(n,c,a,s,r)}),Xr((s,a)=>(s.push(...a),s)),_i(null),Kr(),ae(s=>{if(s===null)return pt(i);let a=xs(s);return Ml(a),y(a)}))}processSegment(n,e,i,r,o,s,a){return ie(e).pipe(Tt(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,i,r,o,s,a).pipe(rt(d=>{if(d instanceof cn)return y(null);throw d}))),Ue(c=>!!c),rt(c=>{if(ws(c))return Dl(i,r,o)?y(new Dr):pt(i);throw c}))}processSegmentAgainstRoute(n,e,i,r,o,s,a,c){return ve(i)!==s&&(s===S||!si(r,o,i))?pt(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s,c):pt(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s,a){let{matched:c,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:E}=Ms(e,r,o);if(!c)return pt(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sl&&(this.allowRedirects=!1));let $=new vt(o,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,ts(r),ve(r),r.component??r._loadedComponent??null,r,ns(r)),H=ti($,a,this.paramsInheritanceStrategy);$.params=Object.freeze(H.params),$.data=Object.freeze(H.data);let te=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,g,$,n);return this.applyRedirects.lineralizeSegments(r,te).pipe(ae(Z=>this.processSegment(n,i,e,Z.concat(E),s,!1,a)))}matchSegmentAgainstRoute(n,e,i,r,o,s){let a=ml(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(Ce(c=>c.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Ce(({routes:d})=>{let f=i._loadedInjector??n,{parameters:g,consumedSegments:E,remainingSegments:$}=c,H=new vt(E,g,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,ts(i),ve(i),i.component??i._loadedComponent??null,i,ns(i)),te=ti(H,s,this.paramsInheritanceStrategy);H.params=Object.freeze(te.params),H.data=Object.freeze(te.data);let{segmentGroup:Z,slicedSegments:It}=es(e,E,$,d);if(It.length===0&&Z.hasChildren())return this.processChildren(f,d,Z,H).pipe(R(bn=>new oe(H,bn)));if(d.length===0&&It.length===0)return y(new oe(H,[]));let ua=ve(i)===o;return this.processSegment(f,d,Z,It,ua?S:o,!0,H).pipe(R(bn=>new oe(H,bn instanceof oe?[bn]:[])))}))):pt(e)))}getChildConfig(n,e,i){return e.children?y({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?y({routes:e._loadedRoutes,injector:e._loadedInjector}):hl(n,e,i,this.urlSerializer).pipe(ae(r=>r?this.configLoader.loadChildren(n,e).pipe(J(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):gl(e))):y({routes:[],injector:n})}};function Ml(t){t.sort((n,e)=>n.value.outlet===S?-1:e.value.outlet===S?1:n.value.outlet.localeCompare(e.value.outlet))}function xl(t){let n=t.value.routeConfig;return n&&n.path===""}function xs(t){let n=[],e=new Set;for(let i of t){if(!xl(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=xs(i.children);n.push(new oe(i.value,r))}return n.filter(i=>!e.has(i))}function ts(t){return t.data||{}}function ns(t){return t.resolve||{}}function El(t,n,e,i,r,o){return ae(s=>wl(t,n,e,i,s.extractedUrl,r,o).pipe(R(({state:a,tree:c})=>I(m({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Ol(t,n){return ae(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return y(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let d of Es(c))s.add(d);let a=0;return ie(s).pipe(Tt(c=>o.has(c)?Al(c,i,t,n):(c.data=ti(c,c.parent,t).resolve,y(void 0))),J(()=>a++),yi(1),ae(c=>a===s.size?y(e):je))})}function Es(t){let n=t.children.map(e=>Es(e)).flat();return[t,...n]}function Al(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!bs(r)&&(o[un]=r.title),Pl(o,t,n,i).pipe(R(s=>(t._resolvedData=s,t.data=ti(t,t.parent,e).resolve,null)))}function Pl(t,n,e,i){let r=Ji(t);if(r.length===0)return y({});let o={};return ie(r).pipe(ae(s=>Il(t[s],n,e,i).pipe(Ue(),J(a=>{if(a instanceof an)throw ii(new Jt,a);o[s]=a}))),yi(1),Zr(o),rt(s=>ws(s)?je:Ft(s)))}function Il(t,n,e,i){let r=dn(n)??i,o=wt(t,r),s=o.resolve?o.resolve(n,e):Me(r,()=>o(n,e));return Ge(s)}function Xi(t){return Ce(n=>{let e=t(n);return e?ie(e).pipe(R(()=>n)):y(n)})}var Os=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===S);return i}getResolvedTitleForRoute(e){return e.data[un]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(Fl),providedIn:"root"})}}return t})(),Fl=(()=>{class t extends Os{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(k(Zo))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ar=new G("",{providedIn:"root",factory:()=>({})}),Rl=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=be({type:t,selectors:[["ng-component"]],standalone:!0,features:[_e],decls:1,vars:0,template:function(i,r){i&1&&V(0,"router-outlet")},dependencies:[Er],encapsulation:2})}}return t})();function Pr(t){let n=t.children&&t.children.map(Pr),e=n?I(m({},t),{children:n}):m({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==S&&(e.component=Rl),e}var Ir=new G(""),Tl=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(Ri)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Ge(e.loadComponent()).pipe(R(As),J(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),_n(()=>{this.componentLoaders.delete(e)})),r=new Ci(i,()=>new Se).pipe(vi());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=kl(i,this.compiler,e,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(i)})),s=new Ci(o,()=>new Se).pipe(vi());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function kl(t,n,e,i){return Ge(t.loadChildren()).pipe(R(As),ae(r=>r instanceof co||Array.isArray(r)?y(r):ie(n.compileModuleAsync(r))),R(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Ir,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pr),injector:o}}))}function Vl(t){return t&&typeof t=="object"&&"default"in t}function As(t){return Vl(t)?t.default:t}var Fr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(Nl),providedIn:"root"})}}return t})(),Nl=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ll=new G("");var jl=new G(""),Ul=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Se,this.transitionAbortSubject=new Se,this.configLoader=_(Tl),this.environmentInjector=_(yn),this.urlSerializer=_(Mr),this.rootContexts=_(oi),this.location=_(zt),this.inputBindingEnabled=_(Or,{optional:!0})!==null,this.titleStrategy=_(Os),this.options=_(Ar,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Fr),this.createViewTransition=_(Ll,{optional:!0}),this.navigationErrorHandler=_(jl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>y(void 0),this.rootComponentType=null;let e=r=>this.events.next(new cr(r)),i=r=>this.events.next(new lr(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(I(m(m({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new L({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xt,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(o=>o.id!==0),R(o=>I(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ce(o=>{let s=!1,a=!1;return y(o).pipe(Ce(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",se.SupersededByNewNavigation),je;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?I(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new tt(c.id,this.urlSerializer.serialize(c.rawUrl),g,ir.IgnoredSameUrlNavigation)),c.resolve(!1),je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return y(c).pipe(Ce(g=>{let E=this.transitions?.getValue();return this.events.next(new nn(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions?.getValue()?je:Promise.resolve(g)}),El(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),J(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=I(m({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let E=new Qn(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:g,extractedUrl:E,source:$,restoredState:H,extras:te}=c,Z=new nn(g,this.urlSerializer.serialize(E),$,H);this.events.next(Z);let It=vs(this.rootComponentType).snapshot;return this.currentTransition=o=I(m({},c),{targetSnapshot:It,urlAfterRedirects:E,extras:I(m({},te),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,y(o)}else{let g="";return this.events.next(new tt(c.id,this.urlSerializer.serialize(c.extractedUrl),g,ir.IgnoredByUrlHandlingStrategy)),c.resolve(!1),je}}),J(c=>{let d=new rr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),R(c=>(this.currentTransition=o=I(m({},c),{guards:qc(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),rl(this.environmentInjector,c=>this.events.next(c)),J(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ii(this.urlSerializer,c.guardsResult);let d=new or(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),it(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",se.GuardRejected),!1)),Xi(c=>{if(c.guards.canActivateChecks.length)return y(c).pipe(J(d=>{let f=new sr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Ce(d=>{let f=!1;return y(d).pipe(Ol(this.paramsInheritanceStrategy,this.environmentInjector),J({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",se.NoDataFromResolver)}}))}),J(d=>{let f=new ar(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Xi(c=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(J(E=>{f.component=E}),R(()=>{})));for(let E of f.children)g.push(...d(E));return g};return Rt(d(c.targetSnapshot.root)).pipe(_i(null),ot(1))}),Xi(()=>this.afterPreactivation()),Ce(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return f?ie(f).pipe(R(()=>o)):y(o)}),R(c=>{let d=$c(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=I(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),J(()=>{this.events.next(new on)}),Wc(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ot(1),J({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Le(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Jr(this.transitionAbortSubject.pipe(J(c=>{throw c}))),_n(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",se.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),rt(c=>{if(a=!0,Ds(c))this.events.next(new Ve(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Hc(c)?this.events.next(new _t(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let d=new rn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof an){let{message:g,cancellationCode:E}=ii(this.urlSerializer,f);this.events.next(new Ve(o.id,this.urlSerializer.serialize(o.extractedUrl),g,E)),this.events.next(new _t(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=e.errorHandler(c);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return je}))}))}cancelNavigationTransition(e,i,r){let o=new Ve(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bl(t){return t!==Xt}var $l=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(zl),providedIn:"root"})}}return t})(),Sr=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},zl=(()=>{class t extends Sr{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ye(t)))(r||t)}})()}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ps=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>_(Gl),providedIn:"root"})}}return t})(),Gl=(()=>{class t extends Ps{constructor(){super(...arguments),this.location=_(zt),this.urlSerializer=_(Mr),this.options=_(Ar,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Fr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ne,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof nn)this.stateMemento=this.createStateMemento();else if(e instanceof tt)this.rawUrlTree=i.initialUrl;else if(e instanceof Qn){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof on?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Ve&&(e.code===se.GuardRejected||e.code===se.NoDataFromResolver)?this.restoreHistory(i):e instanceof rn?this.restoreHistory(i,!0):e instanceof Le&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Ne?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ye(t)))(r||t)}})()}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zt=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zt||{});function Hl(t,n){t.events.pipe(it(e=>e instanceof Le||e instanceof Ve||e instanceof rn||e instanceof tt),R(e=>e instanceof Le||e instanceof tt?Zt.COMPLETE:(e instanceof Ve?e.code===se.Redirect||e.code===se.SupersededByNewNavigation:!1)?Zt.REDIRECTING:Zt.FAILED),it(e=>e!==Zt.REDIRECTING),ot(1)).subscribe(()=>{n()})}function Wl(t){throw t}var ql={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},we=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(Sn),this.stateManager=_(Ps),this.options=_(Ar,{optional:!0})||{},this.pendingTasks=_(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(Ul),this.urlSerializer=_(Mr),this.location=_(zt),this.urlHandlingStrategy=_(Fr),this._events=new Se,this.errorHandler=this.options.errorHandler||Wl,this.navigated=!1,this.routeReuseStrategy=_($l),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(Ir,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Or,{optional:!0}),this.eventsSubscription=new zr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ve&&i.code!==se.Redirect&&i.code!==se.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Le)this.navigated=!0;else if(i instanceof _t){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c=m({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bl(r.source)},s);this.scheduleNavigation(a,Xt,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Kl(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=m({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Pr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let E=r?r.snapshot:this.routerState.snapshot.root;g=fs(E)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return ps(g,e,f,d??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=en(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Xt,null,i)}navigate(e,i={skipLocationChange:!1}){return Zl(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=m({},ql):i===!1?r=m({},Yl):r=i,en(e))return Ko(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Ko(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,d;s?(a=s.resolve,c=s.reject,d=s.promise):d=new Promise((g,E)=>{a=g,c=E});let f=this.pendingTasks.add();return Hl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zl(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new z(4008,!1)}function Kl(t){return!(t instanceof on)&&!(t instanceof _t)}var Xl=new G("");function Is(t,...n){return wi([{provide:Ir,multi:!0,useValue:t},[],{provide:yt,useFactory:Ql,deps:[we]},{provide:go,multi:!0,useFactory:Jl},n.map(e=>e.\u0275providers)])}function Ql(t){return t.routerState.root}function Jl(){let t=_(Dn);return n=>{let e=t.get(Fi);if(n!==e.components[0])return;let i=t.get(we),r=t.get(eu);t.get(tu)===1&&i.initialNavigation(),t.get(nu,null,Di.Optional)?.setUpPreloading(),t.get(Xl,null,Di.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var eu=new G("",{factory:()=>new Se}),tu=new G("",{providedIn:"root",factory:()=>1});var nu=new G("");var Fs={production:!1,firebase:{apiKey:"AIzaSyD1UEopdodBIImPs7Z34Tg0yFgMRaRQmQc",authDomain:"chatwithbuddy-2a8f9.firebaseapp.com",projectId:"chatwithbuddy-2a8f9",storageBucket:"chatwithbuddy-2a8f9.firebasestorage.app",messagingSenderId:"971046223092",appId:"1:971046223092:web:7ff9ae0827c69006b2b2a1",measurementId:"G-8GSNK93H6M"}};var Bs=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(M(ht),M(lt))}}static{this.\u0275dir=X({type:t})}}return t})(),iu=(()=>{class t extends Bs{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ye(t)))(r||t)}})()}static{this.\u0275dir=X({type:t,features:[xe]})}}return t})(),$s=new G("");var ru={provide:$s,useExisting:st(()=>He),multi:!0};function ou(){let t=Re()?Re().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var su=new G(""),He=(()=>{class t extends Bs{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ou())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(M(ht),M(lt),M(su,8))}}static{this.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&b("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ft([ru]),xe]})}}return t})();function au(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function cu(t){return t!=null&&typeof t.length=="number"}var gi=new G(""),zs=new G("");function lu(t){return au(t.value)?{required:!0}:null}function uu(t){return n=>cu(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Rs(t){return null}function Gs(t){return t!=null}function Hs(t){return Lt(t)?ie(t):t}function Ws(t){let n={};return t.forEach(e=>{n=e!=null?m(m({},n),e):n}),Object.keys(n).length===0?null:n}function qs(t,n){return n.map(e=>e(t))}function du(t){return!t.validate}function Ys(t){return t.map(n=>du(n)?n:e=>n.validate(e))}function hu(t){if(!t)return null;let n=t.filter(Gs);return n.length==0?null:function(e){return Ws(qs(e,n))}}function Tr(t){return t!=null?hu(Ys(t)):null}function fu(t){if(!t)return null;let n=t.filter(Gs);return n.length==0?null:function(e){let i=qs(e,n).map(Hs);return Yr(i).pipe(R(Ws))}}function kr(t){return t!=null?fu(Ys(t)):null}function Ts(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function pu(t){return t._rawValidators}function gu(t){return t._rawAsyncValidators}function Rr(t){return t?Array.isArray(t)?t:[t]:[]}function li(t,n){return Array.isArray(t)?t.includes(n):t===n}function ks(t,n){let e=Rr(n);return Rr(t).forEach(r=>{li(e,r)||e.push(r)}),e}function Vs(t,n){return Rr(n).filter(e=>!li(t,e))}var ui=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Tr(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=kr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},xt=class extends ui{get formDirective(){return null}get path(){return null}},Cn=class extends ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},di=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xf=I(m({},mu),{"[class.ng-submitted]":"isSubmitted"}),Ot=(()=>{class t extends di{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(Cn,2))}}static{this.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&pe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[xe]})}}return t})(),Zs=(()=>{class t extends di{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(M(xt,10))}}static{this.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&pe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[xe]})}}return t})();var fn="VALID",ci="INVALID",St="PENDING",pn="DISABLED",Et=class{},hi=class extends Et{constructor(n,e){super(),this.value=n,this.source=e}},mn=class extends Et{constructor(n,e){super(),this.pristine=n,this.source=e}},vn=class extends Et{constructor(n,e){super(),this.touched=n,this.source=e}},Mt=class extends Et{constructor(n,e){super(),this.status=n,this.source=e}};function Ks(t){return(mi(t)?t.validators:t)||null}function vu(t){return Array.isArray(t)?Tr(t):t||null}function Xs(t,n){return(mi(n)?n.asyncValidators:t)||null}function Cu(t){return Array.isArray(t)?kr(t):t||null}function mi(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bu(t,n,e){let i=t.controls;if(!(n?Object.keys(i):i).length)throw new z(1e3,"");if(!i[e])throw new z(1001,"")}function _u(t,n,e){t._forEachChild((i,r)=>{if(e[r]===void 0)throw new z(1002,"")})}var fi=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ut(()=>this.statusReactive()),this.statusReactive=Nt(void 0),this._pristine=Ut(()=>this.pristineReactive()),this.pristineReactive=Nt(!0),this._touched=Ut(()=>this.touchedReactive()),this.touchedReactive=Nt(!1),this._events=new Se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Pe(this.statusReactive)}set status(n){Pe(()=>this.statusReactive.set(n))}get valid(){return this.status===fn}get invalid(){return this.status===ci}get pending(){return this.status==St}get disabled(){return this.status===pn}get enabled(){return this.status!==pn}get pristine(){return Pe(this.pristineReactive)}set pristine(n){Pe(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return Pe(this.touchedReactive)}set touched(n){Pe(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(ks(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ks(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Vs(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Vs(n,this._rawAsyncValidators))}hasValidator(n){return li(this._rawValidators,n)}hasAsyncValidator(n){return li(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(I(m({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new vn(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),e&&n.emitEvent!==!1&&this._events.next(new vn(!1,i))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(I(m({},n),{sourceControl:i})),e&&n.emitEvent!==!1&&this._events.next(new mn(!1,i))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),e&&n.emitEvent!==!1&&this._events.next(new mn(!0,i))}markAsPending(n={}){this.status=St;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Mt(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(I(m({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=pn,this.errors=null,this._forEachChild(r=>{r.disable(I(m({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new hi(this.value,i)),this._events.next(new Mt(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(m({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=fn,this._forEachChild(i=>{i.enable(I(m({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(I(m({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fn||this.status===St)&&this._runAsyncValidator(i,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new hi(this.value,e)),this._events.next(new Mt(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(I(m({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pn:fn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=St,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Hs(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Mt(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,i)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?pn:this.errors?ci:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(St)?St:this._anyControlsHaveStatus(ci)?ci:fn}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),r&&this._events.next(new mn(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new vn(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){mi(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=vu(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Cu(this._rawAsyncValidators)}},pi=class extends fi{constructor(n,e,i){super(Ks(e),Xs(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){_u(this,!0,n),Object.keys(n).forEach(i=>{bu(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Vr=new G("CallSetDisabledState",{providedIn:"root",factory:()=>Nr}),Nr="always";function yu(t,n){return[...n.path,t]}function Qs(t,n,e=Nr){Js(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),wu(t,n),Mu(t,n),Su(t,n),Du(t,n)}function Ns(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Du(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function Js(t,n){let e=pu(t);n.validator!==null?t.setValidators(Ts(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=gu(t);n.asyncValidator!==null?t.setAsyncValidators(Ts(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Ns(n._rawValidators,r),Ns(n._rawAsyncValidators,r)}function wu(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ea(t,n)})}function Su(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ea(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function ea(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mu(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function xu(t,n){t==null,Js(t,n)}function Eu(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function Ou(t){return Object.getPrototypeOf(t.constructor)===iu}function Au(t,n){t._syncPendingControls(),n.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Pu(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===He?e=o:Ou(o)?i=o:r=o}),r||i||e||null}var Iu={provide:xt,useExisting:st(()=>Lr)},gn=Promise.resolve(),Lr=(()=>{class t extends xt{get submitted(){return Pe(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ut(()=>this.submittedReactive()),this.submittedReactive=Nt(!1),this._directives=new Set,this.ngSubmit=new ce,this.form=new pi({},Tr(e),kr(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){gn.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Qs(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){gn.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){gn.then(()=>{let i=this._findContainer(e.path),r=new pi({});xu(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){gn.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){gn.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Au(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||t)(M(gi,10),M(zs,10),M(Vr,8))}}static{this.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&b("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([Iu]),xe]})}}return t})();function Ls(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function js(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fu=class extends fi{constructor(n=null,e,i){super(Ks(e),Xs(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mi(e)&&(e.nonNullable||e.initialValueIsDefault)&&(js(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ls(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ls(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){js(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Ru={provide:Cn,useExisting:st(()=>nt)},Us=Promise.resolve(),nt=(()=>{class t extends Cn{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Fu,this._registered=!1,this.name="",this.update=new ce,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Pu(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Eu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Us.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&jt(i);Us.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?yu(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(M(xt,9),M(gi,10),M(zs,10),M($s,10),M(Ke,8),M(Vr,8))}}static{this.\u0275dir=X({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([Ru]),xe,at]})}}return t})(),ta=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();function Tu(t){return typeof t=="number"?t:parseInt(t,10)}var na=(()=>{class t{constructor(){this._validator=Rs}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Rs,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=X({type:t,features:[at]})}}return t})();var ku={provide:gi,useExisting:st(()=>jr),multi:!0};var jr=(()=>{class t extends na{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jt,this.createValidator=e=>lu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ye(t)))(r||t)}})()}static{this.\u0275dir=X({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&wn("required",r._enabled?"":null)},inputs:{required:"required"},features:[ft([ku]),xe]})}}return t})();var Vu={provide:gi,useExisting:st(()=>Ur),multi:!0},Ur=(()=>{class t extends na{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>Tu(e),this.createValidator=e=>uu(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ye(t)))(r||t)}})()}static{this.\u0275dir=X({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&wn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ft([Vu]),xe]})}}return t})();var Nu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=qe({type:t})}static{this.\u0275inj=We({})}}return t})();var At=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Vr,useValue:e.callSetDisabledState??Nr}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=qe({type:t})}static{this.\u0275inj=We({imports:[Nu]})}}return t})();var Pt=(()=>{class t{constructor(){this.firestore=_(Mn),this.messagesSubject=new L([]),this.messages$=this.messagesSubject.asObservable(),this.currentUserSubject=new L(""),this.currentUser$=this.currentUserSubject.asObservable(),this.currentGroupSubject=new L(""),this.currentGroup$=this.currentGroupSubject.asObservable(),this.activeUsersSubject=new L([]),this.activeUsers$=this.activeUsersSubject.asObservable(),this.offlineUsersSubject=new L([]),this.offlineUsers$=this.offlineUsersSubject.asObservable(),this.userProfileSubject=new L(null),this.userProfile$=this.userProfileSubject.asObservable(),this.HEARTBEAT_INTERVAL=1e4,this.USER_TIMEOUT=3e4,this.joinTime=null;let e=localStorage.getItem("chat_user");e&&this.userProfileSubject.next(JSON.parse(e))}register(e,i,r){return F(this,null,function*(){try{let o=K(this.firestore,"users"),s=ye(o,ue("email","==",e));if(!(yield import("./chunk-LEFNXPVO.js").then(d=>d.getDocs(s))).empty)throw new Error("User already exists");let c={email:e,fullName:i,password:r,createdAt:new Date};return yield Xe(o,c),this.userProfileSubject.next(c),localStorage.setItem("chat_user",JSON.stringify(c)),!0}catch(o){throw console.error("Registration failed:",o),o}})}login(e,i){return F(this,null,function*(){try{let r=K(this.firestore,"users"),o=ye(r,ue("email","==",e),ue("password","==",i)),s=yield import("./chunk-LEFNXPVO.js").then(c=>c.getDocs(o));if(s.empty)throw new Error("Invalid credentials");let a=s.docs[0].data();return this.userProfileSubject.next(a),localStorage.setItem("chat_user",JSON.stringify(a)),!0}catch(r){throw console.error("Login failed:",r),r}})}logout(){this.userProfileSubject.next(null),localStorage.removeItem("chat_user"),this.stopHeartbeat()}createGroup(e){return F(this,null,function*(){let i=this.userProfileSubject.value;if(!i)throw new Error("Not logged in");let r=Math.floor(1e5+Math.random()*9e5).toString(),o={groupName:e,passcode:r,createdBy:i.email,createdAt:new Date,members:[i.email]},s=K(this.firestore,"groups"),a=ye(s,ue("groupName","==",e));if(!(yield import("./chunk-LEFNXPVO.js").then(d=>d.getDocs(a))).empty)throw new Error("Group name already taken");return yield Xe(s,o),r})}validateGroupPasscode(e,i){return F(this,null,function*(){let r=K(this.firestore,"groups"),o=ye(r,ue("groupName","==",e),ue("passcode","==",i));return!(yield import("./chunk-LEFNXPVO.js").then(a=>a.getDocs(o))).empty})}joinGroupPersistent(e){return F(this,null,function*(){let i=this.userProfileSubject.value;if(!i)return;let r=K(this.firestore,"groups"),o=ye(r,ue("groupName","==",e)),s=yield import("./chunk-LEFNXPVO.js").then(a=>a.getDocs(o));if(!s.empty){let a=s.docs[0];if(!(a.data().members||[]).includes(i.email)){let{updateDoc:f,arrayUnion:g}=yield import("./chunk-LEFNXPVO.js");yield f(a.ref,{members:g(i.email)})}}})}getActiveGroups(){let e=K(this.firestore,"groups"),i=K(this.firestore,"activeUsers");return Rt([Bt(e,{idField:"id"}),Bt(i)]).pipe(R(([r,o])=>{let s=new Date().getTime(),a=new Map;return o.forEach(c=>{let d=c.lastSeen?.toDate?c.lastSeen.toDate():new Date(c.lastSeen);s-d.getTime()<this.USER_TIMEOUT&&a.set(c.group,(a.get(c.group)||0)+1)}),r.map(c=>I(m({},c),{activeCount:a.get(c.groupName)||0})).sort((c,d)=>d.activeCount-c.activeCount)}))}joinGroup(e,i){console.log(`Joining group: ${e} as ${i}`),this.joinTime=new Date,this.currentGroupSubject.next(e),this.currentUserSubject.next(i),this.updatePresence(e,i),this.startHeartbeat(e,i),this.sendSystemMessage(e,`${i} joined the chat`);let r=K(this.firestore,"messages"),o=ye(r,ue("group","==",e));Bt(o).subscribe({next:c=>{console.log("Received messages from Firestore:",c.length);let d=c.map(f=>I(m({},f),{time:f.time?.toDate?f.time.toDate():new Date(f.time)})).filter(f=>f.isSystem&&this.joinTime?f.time>=this.joinTime:!0).sort((f,g)=>f.time.getTime()-g.time.getTime());this.messagesSubject.next(d)},error:c=>{console.error("Error fetching messages:",c)}});let s=K(this.firestore,"activeUsers"),a=ye(s,ue("group","==",e));Bt(a).subscribe({next:c=>{console.log("Active users from Firestore:",c.length);let d=new Date().getTime(),f=c.map(g=>I(m({},g),{lastSeen:g.lastSeen?.toDate?g.lastSeen.toDate():new Date(g.lastSeen)})).filter(g=>d-g.lastSeen.getTime()<this.USER_TIMEOUT);console.log("Filtered active users:",f.length),this.activeUsersSubject.next(f),this.updateOfflineUsers(e,f)},error:c=>{console.error("Error fetching active users:",c)}})}sendMessage(e,i){return F(this,null,function*(){let r=this.currentUserSubject.value,o=this.currentGroupSubject.value;if(console.log(`Sending message: "${e}" from ${r} to ${o}`),!r||!o){console.error("User or Group is missing!");return}let s={user:r,text:e,group:o,time:new Date,isSystem:!1};i&&(s.attachment=i);try{let a=K(this.firestore,"messages");yield Xe(a,s),console.log("Message sent successfully")}catch(a){console.error("Error sending message:",a)}})}getCurrentUser(){return this.currentUserSubject.value}getCurrentGroup(){return this.currentGroupSubject.value}updatePresence(e,i){return F(this,null,function*(){try{let r=`${e}_${i}`,o=ge(this.firestore,"activeUsers",r);yield En(o,{username:i,group:e,lastSeen:new Date}),console.log("Presence updated for",i)}catch(r){console.error("Error updating presence:",r)}})}removePresence(e,i){return F(this,null,function*(){try{this.stopHeartbeat();let r=`${e}_${i}`,o=ge(this.firestore,"activeUsers",r);yield xn(o),console.log("Presence removed for",i),yield this.sendSystemMessage(e,`${i} left the chat`)}catch(r){console.error("Error removing presence:",r)}})}sendSystemMessage(e,i){return F(this,null,function*(){try{let r={user:"System",text:i,group:e,time:new Date,isSystem:!0},o=K(this.firestore,"messages");yield Xe(o,r),console.log("System message sent:",i)}catch(r){console.error("Error sending system message:",r)}})}startHeartbeat(e,i){this.stopHeartbeat(),this.heartbeatInterval=setInterval(()=>{console.log("Heartbeat: updating presence for",i),this.updatePresence(e,i)},this.HEARTBEAT_INTERVAL)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null,console.log("Heartbeat stopped"))}updateOfflineUsers(e,i){return F(this,null,function*(){try{let r=K(this.firestore,"groups"),o=ye(r,ue("groupName","==",e)),s=yield import("./chunk-LEFNXPVO.js").then(a=>a.getDocs(o));if(!s.empty){let c=s.docs[0].data().members||[],d=i.map($=>$.username),f=c.filter($=>!d.includes($)),g=[],E=K(this.firestore,"users");for(let $ of f){let H=ye(E,ue("email","==",$)),te=yield import("./chunk-LEFNXPVO.js").then(Z=>Z.getDocs(H));if(te.empty)g.push({email:$,fullName:$});else{let Z=te.docs[0].data();g.push({email:$,fullName:Z.fullName||$})}}console.log("Offline members:",g.length),this.offlineUsersSubject.next(g)}}catch(r){console.error("Error updating offline users:",r)}})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ia=(()=>{class t{constructor(e){this.firestore=e,this.peerConnection=null,this.localStream=null,this.screenShareStream=null,this.remoteStream$=new L(null),this.remoteScreenShare$=new L(null),this.screenShareStream$=new L(null),this.isScreenSharing$=new L(!1),this.incomingCall$=new L(null),this.activeCall$=new L(null),this.callStatus$=new L("idle"),this.servers={iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]}}startCall(e,i,r="regular"){return F(this,null,function*(){this.callStatus$.next("calling"),yield this.initPeerConnection();let o=ge(K(this.firestore,"calls")),s=o.id;this.listenForIceCandidates(s,"caller");let a=yield this.peerConnection.createOffer();yield this.peerConnection.setLocalDescription(a);let c={id:s,groupId:e,callerId:i,status:"offering",type:r,offer:{type:a.type,sdp:a.sdp}};yield En(o,c),this.activeCall$.next(c),$t(o,d=>F(this,null,function*(){let f=d.data();if(f&&f.answer&&(!this.peerConnection.currentRemoteDescription||this.peerConnection.signalingState!=="stable")){console.log("Setting remote description from answer");let g=new RTCSessionDescription(f.answer);yield this.peerConnection.setRemoteDescription(g),this.callStatus$.next("connected")}}))})}listenForIncomingCalls(e,i){let r=K(this.firestore,"calls");$t(r,o=>{o.docChanges().forEach(s=>{let a=s.doc.data();a.id=s.doc.id,s.type==="added"&&a.groupId===e&&a.status==="offering"&&a.callerId!==i&&(console.log("Incoming call:",a),this.incomingCall$.next(a),this.callStatus$.next("incoming"))})})}answerCall(e){return F(this,null,function*(){this.incomingCall$.next(null),this.callStatus$.next("connecting"),this.activeCall$.next(e),yield this.initPeerConnection();let i=e.id;this.listenForIceCandidates(i,"callee");let r=ge(this.firestore,`calls/${i}`),o=e.offer;yield this.peerConnection.setRemoteDescription(new RTCSessionDescription(o));let s=yield this.peerConnection.createAnswer();yield this.peerConnection.setLocalDescription(s);let a={type:s.type,sdp:s.sdp};yield Be(r,{answer:a,status:"answered"}),this.callStatus$.next("connected"),$t(r,c=>F(this,null,function*(){let d=c.data();if(d&&d.offer&&this.peerConnection.signalingState==="stable"){let f=this.peerConnection.remoteDescription?.sdp;if(d.offer.sdp!==f){console.log("Received new offer during renegotiation"),yield this.peerConnection.setRemoteDescription(new RTCSessionDescription(d.offer));let g=yield this.peerConnection.createAnswer();yield this.peerConnection.setLocalDescription(g),yield Be(r,{answer:{type:g.type,sdp:g.sdp}}),console.log("Sent new answer for renegotiation")}}}))})}endCall(e){return F(this,null,function*(){let i=this.activeCall$.value;if(i&&i.id)try{let r=ge(this.firestore,`calls/${i.id}`);!e||i.callerId===e?(console.log("Host ending call, deleting document"),yield xn(r)):(console.log("Viewer leaving call, resetting to offering"),yield Be(r,{status:"offering",answer:wo()}))}catch(r){console.error("Error ending call doc",r)}this.cleanup()})}initPeerConnection(){return F(this,null,function*(){this.localStream=yield navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),this.peerConnection=new RTCPeerConnection(this.servers),this.localStream.getTracks().forEach(e=>{this.peerConnection.addTrack(e,this.localStream)}),this.peerConnection.onnegotiationneeded=()=>F(this,null,function*(){try{let e=this.activeCall$.value;if(!e||!e.id)return;console.log("Renegotiation needed, creating new offer");let i=yield this.peerConnection.createOffer();yield this.peerConnection.setLocalDescription(i);let r=ge(this.firestore,`calls/${e.id}`);yield Be(r,{offer:{type:i.type,sdp:i.sdp}}),console.log("New offer sent for renegotiation")}catch(e){console.error("Error during renegotiation:",e)}}),this.peerConnection.ontrack=e=>{let i=e.streams[0],r=e.track;console.log("Received track:",r.kind,r.label),r.kind==="video"?(this.remoteScreenShare$.next(i),console.log("Received remote screen share stream")):(this.remoteStream$.next(i),console.log("Received remote audio stream"))}})}listenForIceCandidates(e,i){let r=K(this.firestore,`calls/${e}/candidates`);this.peerConnection.onicecandidate=o=>{o.candidate&&Xe(r,o.candidate.toJSON())},$t(r,o=>{o.docChanges().forEach(s=>{if(s.type==="added"){let a=new RTCIceCandidate(s.doc.data());this.peerConnection.addIceCandidate(a)}})})}renegotiate(){return F(this,null,function*(){try{let e=this.activeCall$.value;if(!e||!e.id){console.error("Cannot renegotiate: no active call");return}console.log("Manual renegotiation: creating new offer");let i=yield this.peerConnection.createOffer();yield this.peerConnection.setLocalDescription(i);let r=ge(this.firestore,`calls/${e.id}`);yield Be(r,{offer:{type:i.type,sdp:i.sdp}}),console.log("Manual renegotiation: new offer sent")}catch(e){console.error("Error during manual renegotiation:",e)}})}startScreenShare(){return F(this,null,function*(){try{console.log("Starting screen share..."),this.screenShareStream=yield navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}),console.log("Screen share stream obtained:",this.screenShareStream.getTracks().map(i=>`${i.kind}: ${i.label}`)),this.screenShareStream$.next(this.screenShareStream),this.isScreenSharing$.next(!0),this.peerConnection?(console.log("Peer connection state:",this.peerConnection.connectionState,"Signaling state:",this.peerConnection.signalingState),this.screenShareStream.getTracks().forEach(i=>{console.log("Adding track to peer connection:",i.kind,i.label),this.peerConnection.addTrack(i,this.screenShareStream)}),console.log("All screen share tracks added to peer connection"),yield this.renegotiate()):console.error("No peer connection available for screen share!"),this.screenShareStream.getVideoTracks()[0].onended=()=>{this.stopScreenShare()};let e=this.activeCall$.value;if(e&&e.id){let i=ge(this.firestore,`calls/${e.id}`);yield Be(i,{screenSharing:!0}),console.log("Updated Firebase with screenSharing: true")}console.log("Screen sharing started successfully")}catch(e){console.error("Error starting screen share:",e),this.isScreenSharing$.next(!1)}})}stopScreenShare(){return F(this,null,function*(){if(this.screenShareStream){this.screenShareStream.getTracks().forEach(i=>i.stop()),this.peerConnection&&this.peerConnection.getSenders().forEach(r=>{this.screenShareStream&&this.screenShareStream.getTracks().includes(r.track)&&this.peerConnection.removeTrack(r)}),this.screenShareStream=null,this.screenShareStream$.next(null),this.isScreenSharing$.next(!1);let e=this.activeCall$.value;if(e&&e.id){let i=ge(this.firestore,`calls/${e.id}`);yield Be(i,{screenSharing:!1})}console.log("Screen sharing stopped")}})}cleanup(){this.localStream&&(this.localStream.getTracks().forEach(e=>e.stop()),this.localStream=null),this.screenShareStream&&(this.screenShareStream.getTracks().forEach(e=>e.stop()),this.screenShareStream=null),this.peerConnection&&(this.peerConnection.close(),this.peerConnection=null),this.remoteStream$.next(null),this.remoteScreenShare$.next(null),this.screenShareStream$.next(null),this.isScreenSharing$.next(!1),this.activeCall$.next(null),this.incomingCall$.next(null),this.callStatus$.next("idle")}static{this.\u0275fac=function(i){return new(i||t)(k(Mn))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ju=["scrollContainer"];function Uu(t,n){if(t&1&&(l(0,"div",52),p(1),u()),t&2){let e=v(2);h(),B(e.unreadCount)}}function Bu(t,n){if(t&1){let e=N();l(0,"div",48),b("mousedown",function(r){D(e);let o=v();return w(o.onMouseDown(r))})("click",function(r){D(e);let o=v();return w(o.handleBubbleClick(r))}),l(1,"div",49)(2,"div",50),p(3),u()(),O(4,Uu,2,1,"div",51),u()}if(t&2){let e=v();h(3),W(" ",e.currentUser.charAt(0).toUpperCase()," "),h(),C("ngIf",e.unreadCount>0)}}function $u(t,n){if(t&1){let e=N();l(0,"div",53)(1,"div",54)(2,"span",55),p(3,"\u{1F3AC}"),u(),l(4,"span",56)(5,"strong"),p(6),u(),p(7," has started Theatre Mode!"),u()(),l(8,"div",57)(9,"button",58),b("click",function(){D(e);let r=v();return w(r.joinTheatreMode())}),p(10,"Join Now"),u(),l(11,"button",59),b("click",function(){D(e);let r=v();return w(r.theatreNotification=null)}),p(12,"Dismiss"),u()()()}if(t&2){let e=v();h(6),B(e.theatreNotification.callerId)}}function zu(t,n){t&1&&(l(0,"div",71),V(1,"div",72),l(2,"p"),p(3,"Waiting for screen share..."),u()())}function Gu(t,n){if(t&1&&V(0,"video",73),t&2){let e=v(2);C("srcObject",e.remoteScreenShare)}}function Hu(t,n){if(t&1&&V(0,"audio",74),t&2){let e=v(2);C("srcObject",e.remoteScreenShare)}}function Wu(t,n){if(t&1){let e=N();l(0,"div",60)(1,"div",61)(2,"div",62)(3,"span",63),p(4,"\u{1F3A6}"),u(),l(5,"h2"),p(6,"Theatre Mode"),u()(),l(7,"div",64)(8,"div",65)(9,"span"),p(10,"\u{1F465}"),u(),p(11),u(),l(12,"button",66),b("click",function(){D(e);let r=v();return w(r.leaveTheatreMode())}),p(13," Leave Theatre "),u()()(),l(14,"div",67),O(15,zu,4,0,"div",68)(16,Gu,1,1,"video",69)(17,Hu,1,1,"audio",70),u()()}if(t&2){let e=v();h(11),W(" ",e.activeUsers.length," Watching "),h(4),C("ngIf",!e.remoteScreenShare),h(),C("ngIf",e.remoteScreenShare),h(),C("ngIf",e.remoteScreenShare)}}function qu(t,n){if(t&1&&(l(0,"div",86)(1,"h3",87),p(2,"Screen Share"),u(),V(3,"video",88)(4,"audio",74),u()),t&2){let e=v(2);h(3),C("srcObject",e.remoteScreenShare),h(),C("srcObject",e.remoteScreenShare)}}function Yu(t,n){if(t&1&&(l(0,"div",91),p(1),u()),t&2){let e=v().$implicit;h(),W(" ",e.username.charAt(0).toUpperCase()," ")}}function Zu(t,n){if(t&1&&(l(0,"p",92),p(1),u()),t&2){let e=v().$implicit;h(),W(" ",e.username,"")}}function Ku(t,n){if(t&1&&(l(0,"div",90),O(1,Yu,2,1,"div",94)(2,Zu,2,1,"p",95),u()),t&2){let e=n.$implicit,i=v(3);h(),C("ngIf",e.username!==i.currentUser&&i.callStatus==="connected"),h(),C("ngIf",e.username!==i.currentUser&&i.callStatus==="connected")}}function Xu(t,n){if(t&1&&(l(0,"div",89)(1,"div",90)(2,"div",91),p(3),u(),l(4,"p",92),p(5,"You"),u()(),O(6,Ku,3,2,"div",93),u()),t&2){let e=v(2);h(3),W(" ",e.currentUser.charAt(0).toUpperCase()," "),h(3),C("ngForOf",e.activeUsers)}}function Qu(t,n){if(t&1){let e=N();l(0,"button",96),b("click",function(){D(e);let r=v(2);return w(r.startScreenShare())}),ne(),l(1,"svg",17),V(2,"path",97),u(),p(3," Share Screen "),u()}}function Ju(t,n){if(t&1){let e=N();l(0,"button",98),b("click",function(){D(e);let r=v(2);return w(r.stopScreenShare())}),ne(),l(1,"svg",17),V(2,"path",97),u(),p(3," Stop Sharing "),u()}}function ed(t,n){if(t&1&&V(0,"audio",74),t&2){let e=v(2);C("srcObject",e.remoteStream)}}function td(t,n){if(t&1){let e=N();l(0,"div",75)(1,"div",76)(2,"div",77)(3,"h2"),p(4),u(),l(5,"p",78),p(6),u()(),O(7,qu,5,2,"div",79)(8,Xu,7,2,"div",80),l(9,"div",81),O(10,Qu,4,0,"button",82)(11,Ju,4,0,"button",83),l(12,"button",84),b("click",function(){D(e);let r=v();return w(r.endCall())}),ne(),l(13,"svg",27),V(14,"path",85),u(),p(15," End Call "),u()()(),O(16,ed,1,1,"audio",70),u()}if(t&2){let e=v();h(4),B(e.currentGroup),h(2),B(e.callStatus==="calling"?"Calling...":e.callStatus==="connecting"?"Connecting...":"Connected"),h(),C("ngIf",e.remoteScreenShare),h(),C("ngIf",!e.remoteScreenShare),h(2),C("ngIf",!e.isScreenSharing),h(),C("ngIf",e.isScreenSharing),h(5),C("ngIf",e.remoteStream)}}function nd(t,n){if(t&1){let e=N();l(0,"div",99)(1,"span",100),p(2,"Chat"),u(),l(3,"button",101),b("click",function(){D(e);let r=v();return w(r.collapseBubble())}),p(4," _ "),u()()}}function id(t,n){if(t&1){let e=N();l(0,"div",102),b("click",function(){D(e);let r=v();return w(r.closeSidebar())}),u()}}function rd(t,n){if(t&1){let e=N();l(0,"button",103),b("click",function(){D(e);let r=v();return w(r.toggleFloatingMode())}),ne(),l(1,"svg",17),V(2,"path",104),u()()}}function od(t,n){if(t&1){let e=N();l(0,"div",105),b("click",function(){D(e);let r=v();return w(r.copyPasscode())}),l(1,"span"),p(2),u(),l(3,"button",106),p(4,"\u{1F4CB}"),u()()}if(t&2){let e=v();h(2),W("Passcode: ",e.currentPasscode,"")}}function sd(t,n){if(t&1&&(l(0,"div",107)(1,"div",108)(2,"div",109),p(3),u(),V(4,"div",110),u(),l(5,"div",111),p(6),u()()),t&2){let e=n.$implicit,i=v();pe("current-user",e.username===i.currentUser),h(3),W(" ",e.username.charAt(0).toUpperCase()," "),h(3),B(e.username)}}function ad(t,n){if(t&1&&(l(0,"h3"),p(1),u()),t&2){let e=v();h(),W("Offline \u2014 ",e.offlineUsers.length,"")}}function cd(t,n){if(t&1&&(l(0,"div",112)(1,"div",108)(2,"div",109),p(3),u(),V(4,"div",113),u(),l(5,"div",111),p(6),u()()),t&2){let e=n.$implicit;h(3),W(" ",e.username.charAt(0).toUpperCase()," "),h(3),B(e.username)}}function ld(t,n){if(t&1){let e=N();l(0,"div",114),ne(),l(1,"svg",115),V(2,"path",116),u(),ct(),l(3,"span",117),p(4),u(),l(5,"span",118),p(6),u(),l(7,"button",119),b("click",function(){D(e);let r=v();return w(r.rejectCall())}),p(8,"Decline"),u(),l(9,"button",120),b("click",function(){D(e);let r=v();return w(r.answerCall())}),p(10,"Join"),u()()}if(t&2){let e=v();h(4),W("",e.incomingCall.callerId," calling"),h(2),B(e.activeUsers.length)}}function ud(t,n){if(t&1){let e=N();l(0,"div",121),V(1,"span",122),l(2,"span",117),p(3,"In call"),u(),l(4,"span",118),p(5),u(),l(6,"button",123),b("click",function(){D(e);let r=v();return w(r.showCallPage=!0)}),p(7,"View"),u(),l(8,"button",124),b("click",function(){D(e);let r=v();return w(r.endCall())}),p(9,"End"),u()()}if(t&2){let e=v();h(5),B(e.activeUsers.length)}}function dd(t,n){if(t&1){let e=N();l(0,"button",125),b("click",function(){D(e);let r=v();return w(r.startCall())}),ne(),l(1,"svg",17),V(2,"path",116),u()()}}function hd(t,n){if(t&1){let e=N();l(0,"button",126),b("click",function(){D(e);let r=v();return w(r.startTheatreMode())}),ne(),l(1,"svg",17),V(2,"path",127)(3,"path",128),u()()}}function fd(t,n){if(t&1){let e=N();l(0,"button",129),b("click",function(){D(e);let r=v();return w(r.stopScreenShare())}),ne(),l(1,"svg",17),V(2,"path",97),u()()}}function pd(t,n){if(t&1&&V(0,"img",140),t&2){let e=v(2).$implicit;C("src",e.attachment,Ei)}}function gd(t,n){if(t&1&&(l(0,"div",141),p(1),u()),t&2){let e=v(2).$implicit;h(),B(e.text)}}function md(t,n){if(t&1&&(l(0,"div",133)(1,"div",134)(2,"span",135),p(3),u(),l(4,"span",136),p(5),fo(6,"date"),u()(),l(7,"div",137),O(8,pd,1,1,"img",138)(9,gd,2,1,"div",139),u()()),t&2){let e=v().$implicit;h(3),B(e.user),h(2),B(po(6,4,e.time,"shortTime")),h(3),C("ngIf",e.attachment),h(),C("ngIf",e.text)}}function vd(t,n){if(t&1&&(l(0,"div",142),p(1),u()),t&2){let e=v().$implicit;h(),B(e.text)}}function Cd(t,n){if(t&1&&(l(0,"div",130),O(1,md,10,7,"div",131)(2,vd,2,1,"div",132),u()),t&2){let e=n.$implicit,i=v();pe("own-message",e.user===i.currentUser)("system-message",e.isSystem),h(),C("ngIf",!e.isSystem),h(),C("ngIf",e.isSystem)}}function bd(t,n){if(t&1){let e=N();l(0,"div",143),V(1,"img",144),l(2,"button",145),b("click",function(){D(e);let r=v();return w(r.removeAttachment())}),p(3,"\xD7"),u()()}if(t&2){let e=v();h(),C("src",e.selectedFilePreview,Ei)}}function _d(t,n){if(t&1){let e=N();l(0,"span",149),b("click",function(){let r=D(e).$implicit,o=v(2);return w(o.addEmoji(r))}),p(1),u()}if(t&2){let e=n.$implicit;h(),B(e)}}function yd(t,n){if(t&1&&(l(0,"div",146)(1,"div",147),O(2,_d,2,1,"span",148),u()()),t&2){let e=v();h(2),C("ngForOf",e.emojis)}}var ra=(()=>{class t{constructor(e,i,r){this.chatService=e,this.callService=i,this.router=r,this.messages=[],this.activeUsers=[],this.offlineUsers=[],this.currentUser="",this.currentGroup="",this.currentPasscode="",this.newMessage="",this.selectedFile=null,this.selectedFilePreview=null,this.showEmojiPicker=!1,this.showActiveUsers=!0,this.emojis=["\u{1F600}","\u{1F603}","\u{1F604}","\u{1F601}","\u{1F606}","\u{1F605}","\u{1F602}","\u{1F923}","\u{1F60A}","\u{1F607}","\u{1F642}","\u{1F643}","\u{1F609}","\u{1F60C}","\u{1F60D}","\u{1F970}","\u{1F618}","\u{1F617}","\u{1F619}","\u{1F61A}","\u{1F60B}","\u{1F61B}","\u{1F61D}","\u{1F61C}","\u{1F92A}","\u{1F928}","\u{1F9D0}","\u{1F913}","\u{1F60E}","\u{1F929}","\u{1F973}","\u{1F60F}","\u{1F612}","\u{1F61E}","\u{1F614}","\u{1F61F}","\u{1F615}","\u{1F641}","\u2639\uFE0F","\u{1F623}","\u{1F616}","\u{1F62B}","\u{1F629}","\u{1F97A}","\u{1F622}","\u{1F62D}","\u{1F624}","\u{1F620}","\u{1F621}","\u{1F92C}","\u{1F92F}","\u{1F633}","\u{1F975}","\u{1F976}","\u{1F631}","\u{1F628}","\u{1F630}","\u{1F625}","\u{1F613}","\u{1F917}","\u{1F914}","\u{1F92D}","\u{1F92B}","\u{1F925}","\u{1F636}","\u{1F610}","\u{1F611}","\u{1F62C}","\u{1F644}","\u{1F62F}","\u{1F626}","\u{1F627}","\u{1F62E}","\u{1F632}","\u{1F971}","\u{1F634}","\u{1F924}","\u{1F62A}","\u{1F635}","\u{1F910}","\u{1F974}","\u{1F922}","\u{1F92E}","\u{1F927}","\u{1F637}","\u{1F912}","\u{1F915}","\u{1F911}","\u{1F920}","\u{1F608}","\u{1F47F}","\u{1F479}","\u{1F47A}","\u{1F921}","\u{1F4A9}","\u{1F47B}","\u{1F480}","\u2620\uFE0F","\u{1F47D}","\u{1F47E}","\u{1F916}","\u{1F383}","\u{1F63A}","\u{1F638}","\u{1F639}","\u{1F63B}","\u{1F63C}","\u{1F63D}","\u{1F640}","\u{1F63F}","\u{1F63E}","\u{1F44B}","\u{1F91A}","\u{1F590}","\u270B","\u{1F596}","\u{1F44C}","\u{1F90F}","\u270C\uFE0F","\u{1F91E}","\u{1F91F}","\u{1F918}","\u{1F919}","\u{1F448}","\u{1F449}","\u{1F446}","\u{1F595}","\u{1F447}","\u261D\uFE0F","\u{1F44D}","\u{1F44E}","\u270A","\u{1F44A}","\u{1F91B}","\u{1F91C}","\u{1F44F}","\u{1F64C}","\u{1F450}","\u{1F932}","\u{1F91D}","\u{1F64F}","\u270D\uFE0F","\u{1F485}","\u{1F933}","\u{1F4AA}","\u{1F9BE}","\u{1F9B5}","\u{1F9BF}","\u{1F9B6}","\u{1F442}","\u{1F9BB}","\u{1F443}","\u{1F9E0}","\u{1FAC0}","\u{1FAC1}","\u{1F9B7}","\u{1F9B4}","\u{1F440}","\u{1F441}","\u{1F445}","\u{1F444}","\u{1F48B}","\u{1FA78}"],this.viewMode="normal",this.unreadCount=0,this.previousMessageCount=0,this.isDragging=!1,this.dragStartX=0,this.dragStartY=0,this.callStatus="idle",this.incomingCall=null,this.activeCall=null,this.remoteStream=null,this.remoteScreenShare=null,this.isScreenSharing=!1,this.showCallPage=!1,this.showTheatreOverlay=!1,this.theatreNotification=null,this.isElectron=!1,this.isSidebarOpen=!1}ngOnInit(){this.isElectron=!!window.electronAPI,this.chatService.currentUser$.subscribe(e=>{if(!e){this.router.navigate(["/"]);return}this.currentUser=e}),this.chatService.currentGroup$.subscribe(e=>this.currentGroup=e),this.chatService.messages$.subscribe(e=>{if(this.viewMode==="bubble"&&e.length>this.previousMessageCount){let r=e.slice(this.previousMessageCount).filter(o=>o.user!==this.currentUser).length;this.unreadCount+=r}this.messages=e,this.previousMessageCount=e.length}),this.chatService.activeUsers$.subscribe(e=>this.activeUsers=e),this.chatService.offlineUsers$.subscribe(e=>this.offlineUsers=e),this.chatService.getActiveGroups().subscribe(e=>{let i=e.find(r=>r.groupName===this.currentGroup);i&&(this.currentPasscode=i.passcode||"")}),window.electronAPI&&window.electronAPI.onViewModeChanged(e=>{this.viewMode=e,e!=="bubble"&&(this.unreadCount=0)}),this.callService.callStatus$.subscribe(e=>this.callStatus=e),this.callService.incomingCall$.subscribe(e=>{e&&e.type==="theatre"?this.theatreNotification=e:this.incomingCall=e}),this.callService.activeCall$.subscribe(e=>this.activeCall=e),this.callService.remoteStream$.subscribe(e=>{this.remoteStream=e}),this.callService.remoteScreenShare$.subscribe(e=>{this.remoteScreenShare=e}),this.callService.isScreenSharing$.subscribe(e=>{this.isScreenSharing=e}),this.chatService.currentUser$.subscribe(e=>{e&&this.currentGroup&&this.callService.listenForIncomingCalls(this.currentGroup,e)})}copyPasscode(){this.currentPasscode&&navigator.clipboard.writeText(this.currentPasscode).then(()=>{alert("Passcode copied to clipboard!")})}ngAfterViewChecked(){this.scrollToBottom()}ngOnDestroy(){this.cleanupPresence()}cleanupPresence(){this.currentGroup&&this.currentUser&&this.chatService.removePresence(this.currentGroup,this.currentUser)}scrollToBottom(){try{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}catch{}}sendMessage(){(this.newMessage.trim()||this.selectedFilePreview)&&(this.chatService.sendMessage(this.newMessage,this.selectedFilePreview||void 0),this.newMessage="",this.removeAttachment())}onFileSelected(e){let i=e.target.files[0];if(i){this.selectedFile=i;let r=new FileReader;r.onload=o=>{this.selectedFilePreview=o.target.result},r.readAsDataURL(i)}}removeAttachment(){this.selectedFile=null,this.selectedFilePreview=null}toggleEmojiPicker(){this.showEmojiPicker=!this.showEmojiPicker}toggleActiveUsers(){this.showActiveUsers=!this.showActiveUsers}addEmoji(e){this.newMessage+=e}toggleFloatingMode(){this.viewMode="bubble",setTimeout(()=>{window.electronAPI&&window.electronAPI.toggleFloating()},150)}expandBubble(){window.electronAPI&&window.electronAPI.expandBubble()}collapseBubble(){window.electronAPI&&window.electronAPI.collapseBubble()}leaveGroup(){this.cleanupPresence(),this.router.navigate(["/"])}onMouseDown(e){this.viewMode==="bubble"&&(this.isDragging=!0,this.dragStartX=e.screenX,this.dragStartY=e.screenY)}onMouseMove(e){if(this.isDragging&&this.viewMode==="bubble"){let i=e.screenX-this.dragStartX,r=e.screenY-this.dragStartY;window.electronAPI&&window.electronAPI.moveWindow(i,r),this.dragStartX=e.screenX,this.dragStartY=e.screenY}}onMouseUp(){this.isDragging=!1}handleBubbleClick(e){this.unreadCount=0,this.expandBubble()}startCall(){this.currentGroup&&this.currentUser&&(this.showCallPage=!0,this.callService.startCall(this.currentGroup,this.currentUser))}answerCall(e){let i=e||this.incomingCall;i&&(this.callService.answerCall(i),this.showCallPage=!0,this.incomingCall=null)}rejectCall(){this.incomingCall=null,this.callService.incomingCall$.next(null)}startScreenShare(){this.callService.startScreenShare()}stopScreenShare(){this.callService.stopScreenShare()}startTheatreMode(){return F(this,null,function*(){this.showCallPage=!1,this.showTheatreOverlay=!1,yield this.callService.startCall(this.currentGroup,this.currentUser,"theatre"),yield new Promise(e=>setTimeout(e,500)),yield this.callService.startScreenShare(),console.log("Theatre mode started: call established, screen sharing initiated")})}joinTheatreMode(){this.theatreNotification&&(this.callService.answerCall(this.theatreNotification),this.showTheatreOverlay=!0,this.showCallPage=!1,this.theatreNotification=null)}leaveTheatreMode(){this.endCall(),this.showTheatreOverlay=!1}endCall(){this.callService.endCall(this.currentUser),this.showCallPage=!1,this.showTheatreOverlay=!1}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}static{this.\u0275fac=function(i){return new(i||t)(M(Pt),M(ia),M(we))}}static{this.\u0275cmp=be({type:t,selectors:[["app-chat"]],viewQuery:function(i,r){if(i&1&&uo(ju,5),i&2){let o;Pi(o=Ii())&&(r.scrollContainer=o.first)}},hostBindings:function(i,r){i&1&&b("mousemove",function(s){return r.onMouseMove(s)},!1,Oi)("mouseup",function(){return r.onMouseUp()},!1,Oi)},standalone:!0,features:[_e],decls:59,vars:31,consts:[["scrollContainer",""],["fileInput",""],[1,"chat-container"],["class","bubble-container",3,"mousedown","click",4,"ngIf"],[1,"chat-interface"],["class","notification-banner",4,"ngIf"],["class","theatre-overlay",4,"ngIf"],["class","call-page-overlay",4,"ngIf"],[1,"floating-drag-handle"],["class","drag-handle-content",4,"ngIf"],["class","sidebar-backdrop",3,"click",4,"ngIf"],[1,"sidebar"],[1,"group-info"],[1,"group-header"],[1,"header-actions"],["class","toggle-btn","title","Floating Mode",3,"click",4,"ngIf"],["title","Leave Group",1,"leave-btn",3,"click"],["viewBox","0 0 24 24","width","20","height","20","fill","currentColor"],["d","M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"],["class","passcode-container","title","Click to copy",3,"click",4,"ngIf"],[1,"users-list"],["class","user-item",3,"current-user",4,"ngFor","ngForOf"],[4,"ngIf"],["class","user-item offline",4,"ngFor","ngForOf"],[1,"main-chat"],[1,"chat-header-bar"],[1,"hamburger-btn",3,"click"],["viewBox","0 0 24 24","width","24","height","24","fill","currentColor"],["d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"],["class","inline-call-status",4,"ngIf"],["class","inline-call-status active",4,"ngIf"],["class","call-btn-header","title","Start Voice Call",3,"click",4,"ngIf"],["class","theatre-btn-header","title","Theatre Mode - Share Screen",3,"click",4,"ngIf"],["class","stop-share-btn-header","title","Stop Sharing","style","background-color: #ff4444; color: white; border: none; border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; cursor: pointer;",3,"click",4,"ngIf"],[1,"messages-area"],["class","message-wrapper",3,"own-message","system-message",4,"ngFor","ngForOf"],[1,"input-area"],["class","image-preview",4,"ngIf"],["class","emoji-picker",4,"ngIf"],[1,"input-controls"],["title","Attach Photo",1,"attach-btn",3,"click"],["d","M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5a2.5 2.5 0 0 1 5 0v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5a2.5 2.5 0 0 0 5 0V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"],["type","file","accept","image/*",2,"display","none",3,"change"],["title","Add Emoji",1,"emoji-btn",3,"click"],["d","M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"],["type","text","placeholder","Type a message...",3,"ngModelChange","keyup.enter","ngModel"],[1,"send-btn",3,"click","disabled"],["d","M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"],[1,"bubble-container",3,"mousedown","click"],[1,"bubble-inner"],[1,"bubble-avatar"],["class","bubble-badge",4,"ngIf"],[1,"bubble-badge"],[1,"notification-banner"],[1,"banner-content"],[1,"banner-icon"],[1,"banner-text"],[1,"banner-actions"],[1,"banner-btn","join",3,"click"],[1,"banner-btn","dismiss",3,"click"],[1,"theatre-overlay"],[1,"theatre-header"],[1,"theatre-title"],[1,"cinema-icon"],[1,"theatre-controls"],[1,"viewer-count"],[1,"leave-theatre-btn",3,"click"],[1,"theatre-screen"],["class","screen-placeholder",4,"ngIf"],["autoplay","","class","cinema-screen",3,"srcObject",4,"ngIf"],["autoplay","",3,"srcObject",4,"ngIf"],[1,"screen-placeholder"],[1,"loader"],["autoplay","",1,"cinema-screen",3,"srcObject"],["autoplay","",3,"srcObject"],[1,"call-page-overlay"],[1,"call-page-content"],[1,"call-header"],[1,"call-status"],["class","screen-share-container",4,"ngIf"],["class","call-participants",4,"ngIf"],[1,"call-controls"],["class","screen-share-btn","title","Share Screen",3,"click",4,"ngIf"],["class","stop-share-btn","title","Stop Sharing",3,"click",4,"ngIf"],[1,"end-call-btn-large",3,"click"],["d","M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.70 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28-.79-.74-1.68-1.36-2.66-1.85-.33-.16-.56-.5-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"],[1,"screen-share-container"],[2,"color","#fff","margin-bottom","12px","font-size","1rem"],["autoplay","",1,"screen-share-video",3,"srcObject"],[1,"call-participants"],[1,"participant-avatar"],[1,"avatar-circle"],[1,"participant-name"],["class","participant-avatar",4,"ngFor","ngForOf"],["class","avatar-circle",4,"ngIf"],["class","participant-name",4,"ngIf"],["title","Share Screen",1,"screen-share-btn",3,"click"],["d","M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"],["title","Stop Sharing",1,"stop-share-btn",3,"click"],[1,"drag-handle-content"],[1,"drag-title"],["title","Minimize to Bubble",1,"control-btn","minimize-btn",3,"click"],[1,"sidebar-backdrop",3,"click"],["title","Floating Mode",1,"toggle-btn",3,"click"],["d","M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"],["title","Click to copy",1,"passcode-container",3,"click"],[1,"copy-btn"],[1,"user-item"],[1,"avatar-wrapper"],[1,"avatar"],[1,"online-indicator"],[1,"user-name"],[1,"user-item","offline"],[1,"offline-indicator"],[1,"inline-call-status"],["viewBox","0 0 24 24","width","16","height","16","fill","currentColor",1,"ringing-icon-small"],["d","M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"],[1,"call-text"],[1,"participant-count-small"],[1,"inline-decline-btn",3,"click"],[1,"inline-accept-btn",3,"click"],[1,"inline-call-status","active"],[1,"pulse-dot-small"],[1,"inline-view-btn",3,"click"],[1,"inline-end-btn",3,"click"],["title","Start Voice Call",1,"call-btn-header",3,"click"],["title","Theatre Mode - Share Screen",1,"theatre-btn-header",3,"click"],["d","M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"],["d","M10 8h4v8h-4z","opacity","0.6"],["title","Stop Sharing",1,"stop-share-btn-header",2,"background-color","#ff4444","color","white","border","none","border-radius","50%","width","36px","height","36px","display","flex","align-items","center","justify-content","center","cursor","pointer",3,"click"],[1,"message-wrapper"],["class","message-bubble",4,"ngIf"],["class","system-text",4,"ngIf"],[1,"message-bubble"],[1,"message-info"],[1,"sender"],[1,"time"],[1,"message-content"],["class","message-image","alt","Attachment",3,"src",4,"ngIf"],["class","message-text",4,"ngIf"],["alt","Attachment",1,"message-image",3,"src"],[1,"message-text"],[1,"system-text"],[1,"image-preview"],["alt","Preview",3,"src"],[1,"remove-attachment",3,"click"],[1,"emoji-picker"],[1,"emoji-grid"],["class","emoji-item",3,"click",4,"ngFor","ngForOf"],[1,"emoji-item",3,"click"]],template:function(i,r){if(i&1){let o=N();l(0,"div",2),O(1,Bu,5,2,"div",3),l(2,"div",4),O(3,$u,13,1,"div",5)(4,Wu,18,4,"div",6)(5,td,17,7,"div",7),l(6,"div",8),O(7,nd,5,0,"div",9),u(),O(8,id,1,0,"div",10),l(9,"div",11)(10,"div",12)(11,"div",13)(12,"h2"),p(13),u(),l(14,"div",14),O(15,rd,3,0,"button",15),l(16,"button",16),b("click",function(){return D(o),w(r.leaveGroup())}),ne(),l(17,"svg",17),V(18,"path",18),u()()()(),O(19,od,5,1,"div",19),ct(),l(20,"p"),p(21),u()(),l(22,"div",20)(23,"h3"),p(24),u(),O(25,sd,7,4,"div",21)(26,ad,2,1,"h3",22)(27,cd,7,2,"div",23),u()(),l(28,"div",24)(29,"div",25)(30,"button",26),b("click",function(){return D(o),w(r.toggleSidebar())}),ne(),l(31,"svg",27),V(32,"path",28),u()(),ct(),l(33,"h3"),p(34),u(),O(35,ld,11,2,"div",29)(36,ud,10,1,"div",30)(37,dd,3,0,"button",31)(38,hd,4,0,"button",32)(39,fd,3,0,"button",33),u(),l(40,"div",34,0),O(42,Cd,3,6,"div",35),u(),l(43,"div",36),O(44,bd,4,1,"div",37)(45,yd,3,1,"div",38),l(46,"div",39)(47,"button",40),b("click",function(){D(o);let a=ho(51);return w(a.click())}),ne(),l(48,"svg",27),V(49,"path",41),u()(),ct(),l(50,"input",42,1),b("change",function(a){return D(o),w(r.onFileSelected(a))}),u(),l(52,"button",43),b("click",function(){return D(o),w(r.toggleEmojiPicker())}),ne(),l(53,"svg",27),V(54,"path",44),u()()(),ct(),l(55,"input",45),Ae("ngModelChange",function(a){return D(o),Oe(r.newMessage,a)||(r.newMessage=a),w(a)}),b("keyup.enter",function(){return D(o),w(r.sendMessage())}),u(),l(56,"button",46),b("click",function(){return D(o),w(r.sendMessage())}),ne(),l(57,"svg",27),V(58,"path",47),u()()()()()()}i&2&&(h(),C("ngIf",r.viewMode==="bubble"),h(),pe("hidden",r.viewMode==="bubble"),h(),C("ngIf",r.theatreNotification),h(),C("ngIf",r.showTheatreOverlay),h(),C("ngIf",r.showCallPage),h(2),C("ngIf",r.viewMode==="chat"),h(),C("ngIf",r.isSidebarOpen),h(),pe("collapsed",!r.isSidebarOpen&&r.isElectron)("open",r.isSidebarOpen),h(4),B(r.currentGroup),h(2),C("ngIf",r.isElectron),h(4),C("ngIf",r.currentPasscode),h(2),W("",r.activeUsers.length," online"),h(3),W("Online \u2014 ",r.activeUsers.length,""),h(),C("ngForOf",r.activeUsers),h(),C("ngIf",r.offlineUsers.length>0),h(),C("ngForOf",r.offlineUsers),h(7),B(r.currentGroup),h(),C("ngIf",r.incomingCall&&!r.showCallPage),h(),C("ngIf",r.activeCall&&!r.showCallPage),h(),C("ngIf",!r.incomingCall&&!r.activeCall),h(),C("ngIf",!r.incomingCall&&!r.activeCall&&!r.isScreenSharing),h(),C("ngIf",r.isScreenSharing),h(3),C("ngForOf",r.messages),h(2),C("ngIf",r.selectedFilePreview),h(),C("ngIf",r.showEmojiPicker),h(10),Ee("ngModel",r.newMessage),h(),C("disabled",!r.newMessage.trim()&&!r.selectedFilePreview))},dependencies:[ke,Bn,ze,jo,At,He,Ot,nt],styles:['.chat-container[_ngcontent-%COMP%]{display:flex;height:100vh;background:#1e2124;position:relative}.sidebar[_ngcontent-%COMP%]{width:280px;background:#282b30;border-right:1px solid rgba(114,137,218,.2);display:flex;flex-direction:column;box-shadow:2px 0 10px #0000004d;transition:width .3s}.sidebar.collapsed[_ngcontent-%COMP%]{width:72px}.sidebar.collapsed[_ngcontent-%COMP%]   .group-info[_ngcontent-%COMP%]{padding:12px;justify-content:center}.sidebar.collapsed[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{justify-content:center}.sidebar.collapsed[_ngcontent-%COMP%]   .users-list[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;align-items:center}.sidebar.collapsed[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{justify-content:center;padding:8px;width:48px;height:48px}.sidebar.collapsed[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-right:0;width:40px;height:40px;font-size:1.1rem}.sidebar.collapsed[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin:0;border:2px solid #282b30;width:12px;height:12px}.group-info[_ngcontent-%COMP%]{padding:24px 20px;background:#1e212499;border-bottom:1px solid rgba(114,137,218,.2)}.group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px}.header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.group-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#7289da;margin-bottom:8px;font-size:1.4rem;font-weight:700}.group-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1.2rem}.passcode-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:5px;font-size:.9rem;color:#b9bbbe;background:#0003;padding:4px 8px;border-radius:4px;width:fit-content}.copy-btn[_ngcontent-%COMP%]{background:0 0;border:none;cursor:pointer;font-size:1rem;padding:0;opacity:.7;transition:opacity .2s}.copy-btn[_ngcontent-%COMP%]:hover{opacity:1}.group-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#b9bbbe}.group-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#72767d;font-size:.85rem}.toggle-btn[_ngcontent-%COMP%]{padding:8px;background:0 0;border:1px solid rgba(114,137,218,.2);border-radius:8px;color:#72767d;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center}.toggle-btn[_ngcontent-%COMP%]:hover{background:#7289da1a;color:#7289da;border-color:#7289da}.toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s}.leave-btn[_ngcontent-%COMP%]{padding:8px;background:#7289da26;border:1px solid rgba(114,137,218,.3);border-radius:8px;color:#7289da;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;flex-shrink:0}.leave-btn[_ngcontent-%COMP%]:hover{background:#7289da40;border-color:#7289da;transform:translate(2px)}.leave-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.users-list[_ngcontent-%COMP%]{padding:20px;flex:1;overflow-y:auto}.users-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#b9bbbe;font-size:.85rem;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:16px;font-weight:600}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px;color:#b9bbbe;position:relative;padding:10px;border-radius:10px;transition:all .2s;animation:_ngcontent-%COMP%_fadeIn .3s}.user-item[_ngcontent-%COMP%]:hover{background-color:#7289da1a;transform:translate(4px)}.user-item.current-user[_ngcontent-%COMP%]{background:#7289da26;border-left:3px solid #7289da}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.online-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#43b581;border-radius:50%;margin-left:auto;box-shadow:0 0 10px #43b581;animation:_ngcontent-%COMP%_pulse 2s infinite}.offline-indicator[_ngcontent-%COMP%]{width:8px;height:8px;background-color:#72767d;border-radius:50%;margin-left:auto;opacity:.5}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.6;transform:scale(.9)}}.user-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.avatar[_ngcontent-%COMP%]{width:36px;height:36px;background:linear-gradient(135deg,#7289da,#5b6eae);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;margin-right:12px;font-size:.9rem;box-shadow:0 2px 8px #7289da4d}.main-chat[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:linear-gradient(135deg,#1e2124 0,#282b30)}.messages-area[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto;display:flex;flex-direction:column;gap:16px}.message-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;max-width:70%;animation:_ngcontent-%COMP%_slideIn .3s}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.message-wrapper.own-message[_ngcontent-%COMP%]{align-self:flex-end;align-items:flex-end}.message-wrapper.system-message[_ngcontent-%COMP%]{align-self:center;max-width:100%;margin:8px 0}.message-bubble[_ngcontent-%COMP%]{background:#36393ecc;backdrop-filter:blur(10px);padding:12px 16px;border-radius:16px 16px 16px 4px;color:#fff;box-shadow:0 2px 8px #0000004d;border:1px solid rgba(114,137,218,.1)}.own-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7289da,#5b6eae);border-radius:16px 16px 4px;box-shadow:0 4px 12px #7289da4d}.message-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;margin-bottom:6px;font-size:.75rem;color:#72767d}.own-message[_ngcontent-%COMP%]   .message-info[_ngcontent-%COMP%]{color:#fffc}.sender[_ngcontent-%COMP%]{font-weight:600}.message-text[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.5;font-size:.95rem}.system-text[_ngcontent-%COMP%]{background:#7289da1a;backdrop-filter:blur(10px);padding:8px 20px;border-radius:20px;transition:all .3s;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:.8rem;color:#72767d;border:1px solid rgba(114,137,218,.15)}.input-area[_ngcontent-%COMP%]{padding:20px 24px;background:#282b30e6;backdrop-filter:blur(10px);border-top:1px solid rgba(114,137,218,.2);display:flex;gap:12px;box-shadow:0 -2px 10px #0003;position:relative;align-items:center}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:14px 20px;border-radius:25px;border:1px solid rgba(114,137,218,.3);background:#36393e99;color:#fff;outline:0;font-size:.95rem;transition:all .3s}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#72767d}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#7289da;background:#36393ecc;box-shadow:0 0 0 3px #7289da33}.emoji-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;flex-shrink:0}.send-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7289da,#5b6eae);color:#fff;box-shadow:0 4px 12px #7289da4d}.emoji-btn[_ngcontent-%COMP%]{background:#7289da1a;color:#7289da;border:1px solid rgba(114,137,218,.2)}.emoji-btn[_ngcontent-%COMP%]:hover{background:#7289da33;transform:scale(1.1)}.send-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1);box-shadow:0 6px 16px #7289da66}.emoji-btn[_ngcontent-%COMP%]:active, .send-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.send-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:default;box-shadow:none}.emoji-picker[_ngcontent-%COMP%]{position:absolute;bottom:90px;left:24px;background:#282b30f2;backdrop-filter:blur(10px);border:1px solid rgba(114,137,218,.3);border-radius:12px;padding:12px;width:300px;height:250px;box-shadow:0 8px 32px #00000080;z-index:100;animation:_ngcontent-%COMP%_fadeInUp .2s}.emoji-picker[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-8px;left:24px;width:16px;height:16px;background:#282b30f2;border-right:1px solid rgba(114,137,218,.3);border-bottom:1px solid rgba(114,137,218,.3);transform:rotate(45deg)}.emoji-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(32px,1fr));gap:4px;height:100%;overflow-y:auto;padding-right:4px}.emoji-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.emoji-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#7289da4d;border-radius:3px}.emoji-item[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:4px;border-radius:6px;transition:background .2s}.emoji-item[_ngcontent-%COMP%]:hover{background:#7289da33}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}body.floating-mode[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{display:none}body.floating-mode[_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%]{height:100%}body.floating-mode[_nghost-%COMP%]   .messages-area[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .messages-area[_ngcontent-%COMP%]{padding:8px;gap:8px;overflow-y:auto}body.floating-mode[_nghost-%COMP%]   .message-bubble[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .message-bubble[_ngcontent-%COMP%]{padding:8px 12px;font-size:.85rem}body.floating-mode[_nghost-%COMP%]   .input-area[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .input-area[_ngcontent-%COMP%]{padding:8px;gap:8px}body.floating-mode[_nghost-%COMP%]   .input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;font-size:.85rem}body.floating-mode[_nghost-%COMP%]   .emoji-btn[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .emoji-btn[_ngcontent-%COMP%], body.floating-mode[_nghost-%COMP%]   .send-btn[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .send-btn[_ngcontent-%COMP%]{width:32px;height:32px}.floating-drag-handle[_ngcontent-%COMP%]{display:none}body.floating-mode[_nghost-%COMP%]   .floating-drag-handle[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .floating-drag-handle[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;right:0;height:16px;background:linear-gradient(135deg,#7289da,#5b6eae);-webkit-app-region:drag;cursor:move;z-index:1000;border-bottom:1px solid rgba(114,137,218,.3)}body.floating-mode[_nghost-%COMP%]   .main-chat[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .main-chat[_ngcontent-%COMP%]{margin-top:16px}.bubble-container[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#7289da,#5b6eae);display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 4px 15px #0000004d;transition:transform .2s,opacity .15s;cursor:grab;animation:_ngcontent-%COMP%_bubblePopIn .2s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_bubblePopIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.bubble-container[_ngcontent-%COMP%]:active{cursor:grabbing}.bubble-container[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.bubble-inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:inherit;background:#0000001a}.bubble-avatar[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;-webkit-user-select:none;user-select:none}.bubble-badge[_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:24px;height:24px;background-color:#f04747;border-radius:12px;border:2px solid #1e2124;color:#fff;font-size:.8rem;font-weight:700;display:flex;align-items:center;justify-content:center;padding:0 6px;box-shadow:0 2px 5px #0003;animation:_ngcontent-%COMP%_popIn .2s cubic-bezier(.175,.885,.32,1.275)}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(0)}to{transform:scale(1)}}.call-btn[_ngcontent-%COMP%]{color:#43b581;border-color:#43b5814d}.call-btn[_ngcontent-%COMP%]:hover{background:#43b5811a;color:#43b581;border-color:#43b581}.incoming-call-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(5px)}.call-card[_ngcontent-%COMP%]{background:#2f3136;padding:24px;border-radius:12px;text-align:center;box-shadow:0 8px 24px #00000080;border:1px solid rgba(114,137,218,.2);animation:_ngcontent-%COMP%_slideIn .3s}.call-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#fff}.call-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b9bbbe;margin-bottom:20px}.call-actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center}.accept-btn[_ngcontent-%COMP%], .reject-btn[_ngcontent-%COMP%]{padding:10px 24px;border:none;border-radius:4px;font-weight:600;cursor:pointer;transition:transform .2s}.accept-btn[_ngcontent-%COMP%]{background:#43b581;color:#fff}.reject-btn[_ngcontent-%COMP%]{background:#f04747;color:#fff}.accept-btn[_ngcontent-%COMP%]:hover, .reject-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.active-call-bar[_ngcontent-%COMP%]{background:#2f3136;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #202225;animation:_ngcontent-%COMP%_slideDown .3s}.call-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#43b581;font-weight:600}.pulse-dot[_ngcontent-%COMP%]{width:10px;height:10px;background:#43b581;border-radius:50%;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.end-call-btn[_ngcontent-%COMP%]{background:#f04747;color:#fff;border:none;padding:6px 16px;border-radius:4px;cursor:pointer;font-weight:600;transition:background .2s}.end-call-btn[_ngcontent-%COMP%]:hover{background:#d84040}.active-call-banner-top[_ngcontent-%COMP%], .incoming-call-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7289da,#5b6eae);padding:12px 24px;box-shadow:0 2px 8px #0000004d;animation:_ngcontent-%COMP%_slideDown .3s;z-index:1500}.incoming-call-banner[_ngcontent-%COMP%]{border-bottom:2px solid rgba(67,181,129,.5)}.active-call-banner-top[_ngcontent-%COMP%]{border-bottom:2px solid rgba(240,71,71,.3)}.call-banner-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.call-banner-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#fff;font-size:.95rem}.ringing-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ring 1s infinite}@keyframes _ngcontent-%COMP%_ring{0%,to{transform:rotate(0)}10%,30%{transform:rotate(-15deg)}20%,40%{transform:rotate(15deg)}}.participant-count[_ngcontent-%COMP%]{background:#fff3;padding:4px 12px;border-radius:12px;font-size:.85rem}.call-banner-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.banner-accept-btn[_ngcontent-%COMP%], .banner-end-btn[_ngcontent-%COMP%], .banner-reject-btn[_ngcontent-%COMP%], .banner-view-btn[_ngcontent-%COMP%]{padding:8px 20px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s;font-size:.9rem}.banner-end-btn[_ngcontent-%COMP%], .banner-reject-btn[_ngcontent-%COMP%]{background:#f04747e6;color:#fff}.banner-end-btn[_ngcontent-%COMP%]:hover, .banner-reject-btn[_ngcontent-%COMP%]:hover{background:#f04747;transform:scale(1.05)}.banner-accept-btn[_ngcontent-%COMP%], .banner-view-btn[_ngcontent-%COMP%]{background:#fff;color:#7289da}.banner-accept-btn[_ngcontent-%COMP%]:hover, .banner-view-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.05)}.call-page-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(135deg,#1e2124 0,#282b30);z-index:2000;display:flex;align-items:center;justify-content:center}.call-page-content[_ngcontent-%COMP%]{text-align:center;width:100%;max-width:600px;padding:40px}.call-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:2rem;margin:0 0 8px}.call-status[_ngcontent-%COMP%]{color:#43b581;font-size:1.1rem;margin:0;animation:_ngcontent-%COMP%_pulse 2s infinite}.call-participants[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:40px;margin:60px 0;flex-wrap:wrap}.participant-avatar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.avatar-circle[_ngcontent-%COMP%]{width:100px;height:100px;background:linear-gradient(135deg,#7289da,#5b6eae);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2.5rem;font-weight:700;color:#fff;box-shadow:0 8px 24px #7289da66;animation:_ngcontent-%COMP%_pulseAvatar 2s infinite}@keyframes _ngcontent-%COMP%_pulseAvatar{0%,to{box-shadow:0 8px 24px #7289da66}50%{box-shadow:0 8px 32px #7289da99}}.participant-name[_ngcontent-%COMP%]{color:#b9bbbe;font-size:1rem;margin:0}.call-controls[_ngcontent-%COMP%]{margin-top:60px}.end-call-btn-large[_ngcontent-%COMP%]{background:#f04747;color:#fff;border:none;padding:16px 48px;border-radius:50px;cursor:pointer;font-weight:600;font-size:1.1rem;transition:all .3s;display:inline-flex;align-items:center;gap:12px;box-shadow:0 4px 16px #f0474766}.end-call-btn-large[_ngcontent-%COMP%]:hover{background:#d84040;transform:scale(1.05);box-shadow:0 6px 20px #f0474799}.end-call-btn-large[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(135deg)}.chat-header-bar[_ngcontent-%COMP%]{background:#282b30;padding:16px 24px;border-bottom:1px solid rgba(114,137,218,.2);display:flex;justify-content:space-between;align-items:center}.chat-header-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#7289da;margin:0;font-size:1.2rem}.call-btn-header[_ngcontent-%COMP%]{background:#43b5811a;border:1px solid rgba(67,181,129,.3);color:#43b581;padding:10px;border-radius:50%;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;width:44px;height:44px}.call-btn-header[_ngcontent-%COMP%]:hover{background:#43b58133;border-color:#43b581;transform:scale(1.1)}.theatre-btn-header[_ngcontent-%COMP%]{background:#8a2be21a;border:1px solid rgba(138,43,226,.3);color:#8a2be2;padding:10px;border-radius:50%;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;width:44px;height:44px;margin-left:8px}.theatre-btn-header[_ngcontent-%COMP%]:hover{background:#8a2be233;border-color:#8a2be2;transform:scale(1.1)}.inline-call-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#7289da26;padding:6px 12px;border-radius:20px;border:1px solid rgba(114,137,218,.3)}.inline-call-status.active[_ngcontent-%COMP%]{background:#43b58126;border-color:#43b5814d}.ringing-icon-small[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ring 1s infinite}.call-text[_ngcontent-%COMP%]{font-size:.9rem;color:#b9bbbe;font-weight:500}.participant-count-small[_ngcontent-%COMP%]{background:#ffffff1a;padding:2px 8px;border-radius:10px;font-size:.8rem;color:#fff}.pulse-dot-small[_ngcontent-%COMP%]{width:8px;height:8px;background:#43b581;border-radius:50%;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.inline-accept-btn[_ngcontent-%COMP%], .inline-decline-btn[_ngcontent-%COMP%], .inline-end-btn[_ngcontent-%COMP%], .inline-view-btn[_ngcontent-%COMP%]{padding:4px 12px;border:none;border-radius:4px;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s}.inline-decline-btn[_ngcontent-%COMP%], .inline-end-btn[_ngcontent-%COMP%]{background:#f04747cc;color:#fff}.inline-decline-btn[_ngcontent-%COMP%]:hover, .inline-end-btn[_ngcontent-%COMP%]:hover{background:#f04747}.inline-accept-btn[_ngcontent-%COMP%], .inline-view-btn[_ngcontent-%COMP%]{background:#43b581;color:#fff}.inline-accept-btn[_ngcontent-%COMP%]:hover, .inline-view-btn[_ngcontent-%COMP%]:hover{background:#3ca374}.chat-interface[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;transition:opacity .15s,transform .15s;opacity:1;transform:scale(1);will-change:opacity,transform}.chat-interface.hidden[_ngcontent-%COMP%]{display:none;opacity:0;transform:scale(.9);pointer-events:none}body.mode-chat[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], body.mode-chat   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{display:none}body.mode-chat[_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%], body.mode-chat   [_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%]{background:0 0}body.mode-chat[_nghost-%COMP%]   .main-chat[_ngcontent-%COMP%], body.mode-chat   [_nghost-%COMP%]   .main-chat[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 0 20px #00000080;margin-top:24px;height:calc(100% - 24px)}.drag-handle-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 8px;width:100%;height:100%}.drag-title[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;font-weight:600;margin-left:8px}.minimize-btn[_ngcontent-%COMP%]{background:0 0;border:none;color:#b9bbbe;cursor:pointer;font-size:1.2rem;padding:0 8px;-webkit-app-region:no-drag;line-height:1}.minimize-btn[_ngcontent-%COMP%]:hover{color:#fff}body.mode-chat[_nghost-%COMP%]   .floating-drag-handle[_ngcontent-%COMP%], body.mode-chat   [_nghost-%COMP%]   .floating-drag-handle[_ngcontent-%COMP%]{display:block;height:24px;background:#202225;border-radius:12px 12px 0 0;top:0;left:0;right:0;position:fixed;z-index:1000}body.mode-bubble[_nghost-%COMP%], body.mode-bubble   [_nghost-%COMP%]{background:0 0!important}body.mode-bubble[_nghost-%COMP%]   app-root[_ngcontent-%COMP%], body.mode-bubble   [_nghost-%COMP%]   app-root[_ngcontent-%COMP%]{background:0 0!important}body.mode-bubble[_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%], body.mode-bubble   [_nghost-%COMP%]   .chat-container[_ngcontent-%COMP%]{background:0 0!important;box-shadow:none}.input-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.attach-btn[_ngcontent-%COMP%]{background:0 0;border:none;color:#64748b;cursor:pointer;padding:8px;border-radius:50%;transition:all .2s;display:flex;align-items:center;justify-content:center}.attach-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#3b82f6}.image-preview[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:20px;background:#fff;padding:10px;border-radius:12px;box-shadow:0 -4px 20px #0000001a;display:flex;align-items:center;gap:10px;margin-bottom:10px;z-index:100}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100px;max-width:200px;border-radius:8px;object-fit:cover}.remove-attachment[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;width:24px;height:24px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;line-height:1}.message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.message-image[_ngcontent-%COMP%]{max-width:100%;max-height:300px;border-radius:8px;object-fit:contain;background:#0000000d}.screen-share-container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:20px auto;text-align:center}.screen-share-video[_ngcontent-%COMP%]{width:100%;max-height:500px;border-radius:12px;background:#000;box-shadow:0 8px 32px #00000080}.screen-share-btn[_ngcontent-%COMP%], .stop-share-btn[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-weight:600;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:8px;margin:0 8px}.screen-share-btn[_ngcontent-%COMP%]{background:#43b58126;color:#43b581;border:1px solid rgba(67,181,129,.3)}.screen-share-btn[_ngcontent-%COMP%]:hover{background:#43b58140;transform:scale(1.05)}.stop-share-btn[_ngcontent-%COMP%]{background:#f0474726;color:#f04747;border:1px solid rgba(240,71,71,.3)}.stop-share-btn[_ngcontent-%COMP%]:hover{background:#f0474740;transform:scale(1.05)}@media (max-width:1024px){.sidebar[_ngcontent-%COMP%]{width:240px}.sidebar.collapsed[_ngcontent-%COMP%]{width:60px}}@media (max-width:768px){.sidebar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;z-index:100;transform:translate(-100%);transition:transform .3s;width:280px}.sidebar.show[_ngcontent-%COMP%]{transform:translate(0);box-shadow:4px 0 20px #00000080}.sidebar.collapsed[_ngcontent-%COMP%]{width:280px}.main-chat[_ngcontent-%COMP%]{width:100%}.chat-header-bar[_ngcontent-%COMP%]{padding:12px 16px;position:relative}.chat-header-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.call-btn-header[_ngcontent-%COMP%], .leave-btn[_ngcontent-%COMP%], .toggle-btn[_ngcontent-%COMP%]{min-width:44px;min-height:44px;padding:12px}.messages-area[_ngcontent-%COMP%]{padding:16px;gap:12px}.message-wrapper[_ngcontent-%COMP%]{max-width:85%}.message-bubble[_ngcontent-%COMP%]{padding:10px 14px;font-size:.9rem}.message-info[_ngcontent-%COMP%]{font-size:.7rem}.input-area[_ngcontent-%COMP%]{padding:12px 16px;gap:8px}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 16px;font-size:.9rem}.attach-btn[_ngcontent-%COMP%], .emoji-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%]{width:44px;height:44px}.emoji-picker[_ngcontent-%COMP%]{bottom:70px;left:16px;width:calc(100% - 32px);max-width:320px}.call-page-content[_ngcontent-%COMP%]{padding:24px 16px}.call-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.call-participants[_ngcontent-%COMP%]{gap:24px;margin:40px 0}.avatar-circle[_ngcontent-%COMP%]{width:80px;height:80px;font-size:2rem}.participant-name[_ngcontent-%COMP%]{font-size:.9rem}.end-call-btn-large[_ngcontent-%COMP%]{padding:14px 36px;font-size:1rem}.inline-call-status[_ngcontent-%COMP%]{padding:4px 8px;gap:6px}.call-text[_ngcontent-%COMP%]{font-size:.8rem}.inline-accept-btn[_ngcontent-%COMP%], .inline-decline-btn[_ngcontent-%COMP%], .inline-end-btn[_ngcontent-%COMP%], .inline-view-btn[_ngcontent-%COMP%]{padding:6px 10px;font-size:.8rem;min-width:44px;min-height:32px}.users-list[_ngcontent-%COMP%]{padding:16px}.user-item[_ngcontent-%COMP%]{padding:8px}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.85rem}.group-info[_ngcontent-%COMP%]{padding:16px}.group-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.passcode-container[_ngcontent-%COMP%]{font-size:.85rem}}@media (max-width:600px){.chat-header-bar[_ngcontent-%COMP%]{padding:10px 12px}.chat-header-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem}.messages-area[_ngcontent-%COMP%]{padding:12px;gap:10px}.message-wrapper[_ngcontent-%COMP%]{max-width:90%}.message-bubble[_ngcontent-%COMP%]{padding:8px 12px;font-size:.85rem;border-radius:12px 12px 12px 3px}.own-message[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{border-radius:12px 12px 3px}.message-info[_ngcontent-%COMP%]{font-size:.65rem;gap:8px}.message-text[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.4}.system-text[_ngcontent-%COMP%]{font-size:.75rem;padding:6px 16px}.input-area[_ngcontent-%COMP%]{padding:10px 12px;gap:6px}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 14px;font-size:.85rem;border-radius:20px}.emoji-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%], .attach-btn[_ngcontent-%COMP%]{width:40px;height:40px}.call-page-content[_ngcontent-%COMP%]{padding:20px 12px}.call-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.call-status[_ngcontent-%COMP%]{font-size:1rem}.call-participants[_ngcontent-%COMP%]{gap:20px;margin:30px 0}.avatar-circle[_ngcontent-%COMP%]{width:70px;height:70px;font-size:1.8rem}.participant-name[_ngcontent-%COMP%]{font-size:.85rem}.end-call-btn-large[_ngcontent-%COMP%]{padding:12px 28px;font-size:.95rem;border-radius:40px}.sidebar[_ngcontent-%COMP%]{width:260px}.group-info[_ngcontent-%COMP%]{padding:16px 12px}.users-list[_ngcontent-%COMP%]{padding:12px}.user-item[_ngcontent-%COMP%]{padding:6px;margin-bottom:8px}.emoji-picker[_ngcontent-%COMP%]{height:200px;width:calc(100% - 24px);left:12px;bottom:65px}.emoji-item[_ngcontent-%COMP%]{font-size:1.3rem}.image-preview[_ngcontent-%COMP%]{left:12px;margin-bottom:8px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80px;max-width:150px}.message-image[_ngcontent-%COMP%]{max-height:200px}}@media (max-width:375px){.chat-header-bar[_ngcontent-%COMP%]{padding:8px 10px}.chat-header-bar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.95rem}.messages-area[_ngcontent-%COMP%]{padding:10px}.message-bubble[_ngcontent-%COMP%]{padding:7px 10px;font-size:.8rem}.input-area[_ngcontent-%COMP%]{padding:8px 10px}.input-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 12px;font-size:.8rem}.attach-btn[_ngcontent-%COMP%], .emoji-btn[_ngcontent-%COMP%], .send-btn[_ngcontent-%COMP%]{width:36px;height:36px}.call-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.avatar-circle[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.end-call-btn-large[_ngcontent-%COMP%]{padding:10px 24px;font-size:.9rem}.inline-call-status[_ngcontent-%COMP%]{flex-wrap:wrap;gap:4px}.call-text[_ngcontent-%COMP%]{font-size:.75rem}.inline-accept-btn[_ngcontent-%COMP%], .inline-decline-btn[_ngcontent-%COMP%], .inline-end-btn[_ngcontent-%COMP%], .inline-view-btn[_ngcontent-%COMP%]{padding:4px 8px;font-size:.75rem}}@media (max-height:500px) and (orientation:landscape){.call-page-content[_ngcontent-%COMP%]{padding:16px}.call-participants[_ngcontent-%COMP%]{margin:20px 0;gap:16px}.avatar-circle[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.call-controls[_ngcontent-%COMP%]{margin-top:20px}.messages-area[_ngcontent-%COMP%]{padding:8px 12px}}@media (hover:none) and (pointer:coarse){.emoji-item[_ngcontent-%COMP%], .group-item[_ngcontent-%COMP%], .message-bubble[_ngcontent-%COMP%], .user-item[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{-webkit-tap-highlight-color:rgba(114,137,218,.2)}.call-btn-header[_ngcontent-%COMP%], .leave-btn[_ngcontent-%COMP%], .toggle-btn[_ngcontent-%COMP%]{min-width:48px;min-height:48px}.group-item[_ngcontent-%COMP%]:hover, .user-item[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{transform:none}.group-item[_ngcontent-%COMP%]:active, .user-item[_ngcontent-%COMP%]:active{background:#7289da33}button[_ngcontent-%COMP%]:active{transform:scale(.98)}}.notification-banner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background:linear-gradient(90deg,#6a11cb,#2575fc);color:#fff;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;z-index:1000;box-shadow:0 4px 12px #0003;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{transform:translateY(-100%)}to{transform:translateY(0)}}.banner-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1rem}.banner-icon[_ngcontent-%COMP%]{font-size:1.5rem}.banner-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.banner-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-weight:600;transition:all .2s}.banner-btn.join[_ngcontent-%COMP%]{background:#fff;color:#2575fc}.banner-btn.join[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translateY(-1px)}.banner-btn.dismiss[_ngcontent-%COMP%]{background:#fff3;color:#fff}.banner-btn.dismiss[_ngcontent-%COMP%]:hover{background:#ffffff4d}.theatre-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;z-index:2000;display:flex;flex-direction:column}.theatre-header[_ngcontent-%COMP%]{padding:20px 40px;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to bottom,rgba(0,0,0,.8),transparent);position:absolute;top:0;left:0;right:0;z-index:10}.theatre-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#fff}.cinema-icon[_ngcontent-%COMP%]{font-size:2rem}.theatre-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.5)}.theatre-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.viewer-count[_ngcontent-%COMP%]{color:#fffc;display:flex;align-items:center;gap:8px;font-size:1rem;background:#ffffff1a;padding:8px 16px;border-radius:20px}.leave-theatre-btn[_ngcontent-%COMP%]{background:#ff3b30e6;color:#fff;border:none;padding:10px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s;backdrop-filter:blur(4px)}.leave-theatre-btn[_ngcontent-%COMP%]:hover{background:#ff3b30;transform:scale(1.05)}.theatre-screen[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center;padding:40px;position:relative}.cinema-screen[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;box-shadow:0 0 50px #6a11cb4d;border-radius:8px;background:#000}.screen-placeholder[_ngcontent-%COMP%]{color:#ffffff80;display:flex;flex-direction:column;align-items:center;gap:16px}.loader[_ngcontent-%COMP%]{width:48px;height:48px;border:4px solid rgba(255,255,255,.1);border-left-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.hamburger-btn[_ngcontent-%COMP%]{display:none;background:none;border:none;color:#b9bbbe;cursor:pointer;padding:8px;margin-right:8px;border-radius:4px;transition:all .2s}.hamburger-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#7289da1a}.sidebar-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;z-index:1000;backdrop-filter:blur(3px);animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@media (max-width: 768px){.hamburger-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;width:280px;z-index:1001;transform:translate(-100%);transition:transform .3s cubic-bezier(.4,0,.2,1);box-shadow:4px 0 20px #00000080}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.chat-header-bar[_ngcontent-%COMP%]{padding-left:8px}.main-chat[_ngcontent-%COMP%]{width:100%}.toggle-btn[_ngcontent-%COMP%]{display:none}}']})}}return t})();function Dd(t,n){if(t&1){let e=N();l(0,"div",7)(1,"label"),p(2,"Full Name"),u(),l(3,"input",12),Ae("ngModelChange",function(r){D(e);let o=v();return Oe(o.fullName,r)||(o.fullName=r),w(r)}),u()()}if(t&2){let e=v();h(3),Ee("ngModel",e.fullName)}}function wd(t,n){if(t&1&&(l(0,"div",13),p(1),u()),t&2){let e=v();h(),B(e.error)}}var oa=(()=>{class t{constructor(e,i){this.chatService=e,this.router=i,this.isLogin=!0,this.email="",this.password="",this.fullName="",this.isLoading=!1,this.error="",this.chatService.userProfile$.subscribe(r=>{r&&this.router.navigate(["/dashboard"])})}onSubmit(){return F(this,null,function*(){this.isLoading=!0,this.error="";try{this.isLogin?yield this.chatService.login(this.email,this.password):yield this.chatService.register(this.email,this.fullName,this.password),this.router.navigate(["/dashboard"])}catch(e){this.error=e.message||"Authentication failed"}finally{this.isLoading=!1}})}static{this.\u0275fac=function(i){return new(i||t)(M(Pt),M(we))}}static{this.\u0275cmp=be({type:t,selectors:[["app-auth"]],standalone:!0,features:[_e],decls:25,vars:10,consts:[[1,"auth-container"],[1,"auth-box"],[1,"logo"],[1,"tabs"],[3,"click"],[3,"ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","email","placeholder","john@example.com","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",3,"ngModelChange","ngModel"],["class","error-msg",4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],["type","text","name","fullName","placeholder","John Doe","required","",3,"ngModelChange","ngModel"],[1,"error-msg"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),p(4,"Chat Buddy"),u(),l(5,"p"),p(6,"Connect with your friends"),u()(),l(7,"div",3)(8,"button",4),b("click",function(){return r.isLogin=!0}),p(9,"Login"),u(),l(10,"button",4),b("click",function(){return r.isLogin=!1}),p(11,"Sign Up"),u()(),l(12,"form",5),b("ngSubmit",function(){return r.onSubmit()}),O(13,Dd,4,1,"div",6),l(14,"div",7)(15,"label"),p(16,"Email Address"),u(),l(17,"input",8),Ae("ngModelChange",function(s){return Oe(r.email,s)||(r.email=s),s}),u()(),l(18,"div",7)(19,"label"),p(20,"Password"),u(),l(21,"input",9),Ae("ngModelChange",function(s){return Oe(r.password,s)||(r.password=s),s}),u()(),O(22,wd,2,1,"div",10),l(23,"button",11),p(24),u()()()()),i&2&&(h(8),pe("active",r.isLogin),h(2),pe("active",!r.isLogin),h(3),C("ngIf",!r.isLogin),h(4),Ee("ngModel",r.email),h(4),Ee("ngModel",r.password),h(),C("ngIf",r.error),h(),C("disabled",r.isLoading),h(),W(" ",r.isLoading?"Please wait...":r.isLogin?"Login":"Sign Up"," "))},dependencies:[ke,ze,At,ta,He,Ot,Zs,jr,nt,Lr],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#1e2124,#282b30);color:#fff}.auth-box[_ngcontent-%COMP%]{background:#36393ee6;padding:40px;border-radius:16px;width:100%;max-width:400px;box-shadow:0 8px 32px #0006;border:1px solid rgba(114,137,218,.1)}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#7289da;margin:0;font-size:2rem}.logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b9bbbe;margin:5px 0 0}.tabs[_ngcontent-%COMP%]{display:flex;margin-bottom:24px;border-bottom:2px solid rgba(114,137,218,.2)}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;background:none;border:none;padding:12px;color:#b9bbbe;cursor:pointer;font-size:1rem;font-weight:600;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#7289da;border-bottom:2px solid #7289da;margin-bottom:-2px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#b9bbbe;font-size:.9rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:#1e2124cc;border:1px solid rgba(114,137,218,.2);border-radius:8px;color:#fff;font-size:1rem;outline:none;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#7289da}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#7289da,#5b6eae);border:none;border-radius:8px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #7289da4d}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.error-msg[_ngcontent-%COMP%]{color:#f04747;background:#f047471a;padding:10px;border-radius:6px;margin-bottom:20px;font-size:.9rem;text-align:center}"]})}}return t})();function Sd(t,n){if(t&1){let e=N();l(0,"div",17)(1,"p"),p(2,"Group Created! Share this passcode:"),u(),l(3,"div",18),p(4),u(),l(5,"button",19),b("click",function(){D(e);let r=v();return w(r.joinCreatedGroup())}),p(6,"Join Now"),u()()}if(t&2){let e=v();h(4),B(e.generatedPasscode)}}function Md(t,n){if(t&1){let e=N();l(0,"div",20),b("click",function(){let r=D(e).$implicit,o=v();return w(o.enterGroup(r))}),l(1,"div",21)(2,"span",22),p(3),u(),l(4,"span",23),p(5),u()(),l(6,"button",24),p(7,"\u279C"),u()()}if(t&2){let e=n.$implicit;h(3),B(e.groupName),h(2),W("",e.activeCount," active")}}function xd(t,n){t&1&&(l(0,"div",25),p(1," You haven't joined any groups yet. "),u())}function Ed(t,n){if(t&1){let e=N();l(0,"div",20),b("click",function(){let r=D(e).$implicit,o=v();return w(o.selectGroupToJoin(r))}),l(1,"div",21)(2,"span",22),p(3),u(),l(4,"span",23),p(5),u()(),l(6,"button",24),p(7,"\u{1F512}"),u()()}if(t&2){let e=n.$implicit;h(3),B(e.groupName),h(2),W("",e.activeCount," active")}}function Od(t,n){t&1&&(l(0,"div",25),p(1," No other active groups found. "),u())}function Ad(t,n){if(t&1&&(l(0,"div",33),p(1),u()),t&2){let e=v(2);h(),B(e.joinError)}}function Pd(t,n){if(t&1){let e=N();l(0,"div",26)(1,"div",27)(2,"h3"),p(3),u(),l(4,"p"),p(5,"Enter the 6-digit passcode to join."),u(),l(6,"input",28),Ae("ngModelChange",function(r){D(e);let o=v();return Oe(o.passcodeInput,r)||(o.passcodeInput=r),w(r)}),u(),O(7,Ad,2,1,"div",29),l(8,"div",30)(9,"button",31),b("click",function(){D(e);let r=v();return r.selectedGroup=null,w(r.joinError="")}),p(10,"Cancel"),u(),l(11,"button",32),b("click",function(){D(e);let r=v();return w(r.joinGroupWithPasscode())}),p(12,"Join Group"),u()()()()}if(t&2){let e=v();h(3),W("Join ",e.selectedGroup.groupName,""),h(3),Ee("ngModel",e.passcodeInput),h(),C("ngIf",e.joinError)}}var sa=(()=>{class t{constructor(e,i){this.chatService=e,this.router=i,this.user=null,this.myGroups=[],this.otherGroups=[],this.newGroupName="",this.isLoading=!1,this.generatedPasscode="",this.selectedGroup=null,this.passcodeInput="",this.joinError=""}ngOnInit(){this.chatService.userProfile$.subscribe(e=>{e?this.user=e:this.router.navigate(["/auth"])}),this.chatService.getActiveGroups().subscribe(e=>{this.user&&(this.myGroups=e.filter(i=>i.members?.includes(this.user.email)),this.otherGroups=e.filter(i=>!i.members?.includes(this.user.email)))})}logout(){this.chatService.logout(),this.router.navigate(["/auth"])}createGroup(){return F(this,null,function*(){if(this.newGroupName.trim()){this.isLoading=!0;try{this.generatedPasscode=yield this.chatService.createGroup(this.newGroupName)}catch(e){alert(e.message)}finally{this.isLoading=!1}}})}joinCreatedGroup(){this.user&&this.newGroupName&&this.enterGroup({groupName:this.newGroupName})}enterGroup(e){this.user&&(this.chatService.joinGroup(e.groupName,this.user.fullName),this.router.navigate(["/chat"]))}selectGroupToJoin(e){this.selectedGroup=e,this.passcodeInput="",this.joinError=""}joinGroupWithPasscode(){return F(this,null,function*(){if(!(!this.selectedGroup||!this.passcodeInput))try{(yield this.chatService.validateGroupPasscode(this.selectedGroup.groupName,this.passcodeInput))&&this.user?(yield this.chatService.joinGroupPersistent(this.selectedGroup.groupName),this.enterGroup(this.selectedGroup)):this.joinError="Invalid passcode"}catch{this.joinError="Error joining group"}})}static{this.\u0275fac=function(i){return new(i||t)(M(Pt),M(we))}}static{this.\u0275cmp=be({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[_e],decls:40,vars:12,consts:[[1,"dashboard-container"],[1,"header"],[1,"user-info"],[1,"avatar"],[1,"logout-btn",3,"click"],[1,"content-grid"],[1,"card","create-card"],[1,"form-group"],["type","text","placeholder","Enter group name",3,"ngModelChange","ngModel"],[1,"action-btn",3,"click","disabled"],["class","passcode-display",4,"ngIf"],[1,"card","my-groups-card"],[1,"groups-list"],["class","group-item",3,"click",4,"ngFor","ngForOf"],["class","no-groups",4,"ngIf"],[1,"card","public-groups-card"],["class","modal-overlay",4,"ngIf"],[1,"passcode-display"],[1,"code"],[1,"join-now-btn",3,"click"],[1,"group-item",3,"click"],[1,"group-details"],[1,"group-name"],[1,"active-count"],[1,"join-icon"],[1,"no-groups"],[1,"modal-overlay"],[1,"modal"],["type","text","maxlength","6","placeholder","123456",1,"passcode-input",3,"ngModelChange","ngModel"],["class","error-msg",4,"ngIf"],[1,"modal-actions"],[1,"cancel-btn",3,"click"],[1,"confirm-btn",3,"click"],[1,"error-msg"]],template:function(i,r){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4),u(),l(5,"div")(6,"h2"),p(7),u(),l(8,"p"),p(9),u()()(),l(10,"button",4),b("click",function(){return r.logout()}),p(11,"Logout"),u()(),l(12,"div",5)(13,"div",6)(14,"h3"),p(15,"Create New Group"),u(),l(16,"p"),p(17,"Start a new conversation and invite friends."),u(),l(18,"div",7)(19,"input",8),Ae("ngModelChange",function(s){return Oe(r.newGroupName,s)||(r.newGroupName=s),s}),u()(),l(20,"button",9),b("click",function(){return r.createGroup()}),p(21),u(),O(22,Sd,7,1,"div",10),u(),l(23,"div",11)(24,"h3"),p(25,"Your Groups"),u(),l(26,"p"),p(27,"Groups you have already joined."),u(),l(28,"div",12),O(29,Md,8,2,"div",13)(30,xd,2,0,"div",14),u()(),l(31,"div",15)(32,"h3"),p(33,"Public Groups"),u(),l(34,"p"),p(35,"Discover other active groups."),u(),l(36,"div",12),O(37,Ed,8,2,"div",13)(38,Od,2,0,"div",14),u()()(),O(39,Pd,13,3,"div",16),u()),i&2&&(h(4),B(((r.user==null?null:r.user.fullName)||"").charAt(0).toUpperCase()),h(3),W("Welcome, ",r.user==null?null:r.user.fullName,""),h(2),B(r.user==null?null:r.user.email),h(10),Ee("ngModel",r.newGroupName),h(),C("disabled",!r.newGroupName.trim()||r.isLoading),h(),W(" ",r.isLoading?"Creating...":"Create Group"," "),h(),C("ngIf",r.generatedPasscode),h(7),C("ngForOf",r.myGroups),h(),C("ngIf",r.myGroups.length===0),h(7),C("ngForOf",r.otherGroups),h(),C("ngIf",r.otherGroups.length===0),h(),C("ngIf",r.selectedGroup))},dependencies:[ke,Bn,ze,At,He,Ot,Ur,nt],styles:[".dashboard-container[_ngcontent-%COMP%]{height:100vh;background:#1e2124;color:#fff;padding:30px;overflow-y:auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:40px;padding-bottom:20px;border-bottom:1px solid rgba(114,137,218,.2)}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.avatar[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,#7289da,#5b6eae);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700}.user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#b9bbbe;font-size:.9rem}.logout-btn[_ngcontent-%COMP%]{background:#f047471a;color:#f04747;border:1px solid rgba(240,71,71,.3);padding:8px 16px;border-radius:6px;cursor:pointer;transition:all .2s}.logout-btn[_ngcontent-%COMP%]:hover{background:#f0474733}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;max-width:1200px;margin:0 auto}.card[_ngcontent-%COMP%]{background:#282b30;padding:24px;border-radius:12px;box-shadow:0 4px 12px #0003}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#7289da}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b9bbbe;margin-bottom:20px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px;background:#1e2124;border:1px solid #72767d;border-radius:6px;color:#fff;margin-bottom:16px}.action-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#7289da;border:none;border-radius:6px;color:#fff;font-weight:600;cursor:pointer}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.passcode-display[_ngcontent-%COMP%]{margin-top:20px;background:#43b5811a;padding:16px;border-radius:8px;text-align:center;border:1px solid rgba(67,181,129,.3)}.passcode-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#43b581;margin-bottom:8px}.code[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;letter-spacing:4px;color:#fff;margin-bottom:12px}.join-now-btn[_ngcontent-%COMP%]{background:#43b581;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer}.groups-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;max-height:300px;overflow-y:auto}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#1e2124;border-radius:8px;cursor:pointer;transition:background .2s}.group-item[_ngcontent-%COMP%]:hover{background:#36393f}.group-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.group-name[_ngcontent-%COMP%]{font-weight:600}.active-count[_ngcontent-%COMP%]{font-size:.8rem;color:#b9bbbe}.join-icon[_ngcontent-%COMP%]{background:none;border:none;color:#7289da;font-size:1.2rem;cursor:pointer}.no-groups[_ngcontent-%COMP%]{text-align:center;color:#72767d;padding:20px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#36393f;padding:30px;border-radius:12px;width:90%;max-width:400px;text-align:center}.passcode-input[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:4px;text-align:center;width:100%;padding:12px;background:#202225;border:1px solid #72767d;border-radius:6px;color:#fff;margin:20px 0}.error-msg[_ngcontent-%COMP%]{color:#f04747;margin-bottom:16px}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:12px;border:none;border-radius:6px;cursor:pointer;font-weight:600}.cancel-btn[_ngcontent-%COMP%]{background:transparent;color:#b9bbbe}.cancel-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.confirm-btn[_ngcontent-%COMP%]{background:#7289da;color:#fff}"]})}}return t})();var aa=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",component:oa},{path:"dashboard",component:sa},{path:"chat",component:ra},{path:"**",redirectTo:"auth"}];var ca={providers:[mo({eventCoalescing:!0}),Is(aa),_o(()=>yo(Fs.firebase)),Do(()=>So())]};function Id(t,n){if(t&1){let e=N();l(0,"div",2)(1,"div",3),p(2,"Chat Buddy"),u(),l(3,"button",4),b("click",function(){D(e);let r=v();return w(r.closeApp())}),p(4,"\u2715"),u()()}}var la=(()=>{class t{constructor(e){this.router=e,this.title="chat-app",this.isElectron=!1,window.electronAPI&&(this.isElectron=!0,window.electronAPI.onViewModeChanged(i=>{document.body.classList.remove("mode-normal","mode-bubble","mode-chat"),document.body.classList.add(`mode-${i}`),i!=="normal"?document.body.classList.add("floating-mode"):document.body.classList.remove("floating-mode")}),this.router.events.subscribe(i=>{i instanceof Le&&i.urlAfterRedirects==="/"&&window.electronAPI.resetWindowSize&&window.electronAPI.resetWindowSize()}))}closeApp(){window.close()}toggleFloatingMode(){window.electronAPI&&window.electronAPI.toggleFloating()}static{this.\u0275fac=function(i){return new(i||t)(M(we))}}static{this.\u0275cmp=be({type:t,selectors:[["app-root"]],standalone:!0,features:[_e],decls:3,vars:1,consts:[["class","title-bar",4,"ngIf"],[1,"app-content"],[1,"title-bar"],[1,"drag-region"],["title","Close",1,"control-btn","close-btn",3,"click"]],template:function(i,r){i&1&&(O(0,Id,5,0,"div",0),l(1,"div",1),V(2,"router-outlet"),u()),i&2&&C("ngIf",r.isElectron)},dependencies:[Er,ke,ze],styles:[".title-bar[_ngcontent-%COMP%]{height:30px;background:#202225;display:flex;justify-content:space-between;align-items:center;-webkit-app-region:drag;padding:0 10px;color:#b9bbbe;font-size:12px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;border-bottom:1px solid #18191c}.drag-region[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;font-weight:600}.window-controls[_ngcontent-%COMP%]{display:flex;gap:4px;-webkit-app-region:no-drag}.control-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#b9bbbe;cursor:pointer;padding:4px 8px;font-size:14px;transition:all .2s;border-radius:4px;display:flex;align-items:center;justify-content:center;-webkit-app-region:no-drag}.control-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.close-btn[_ngcontent-%COMP%]:hover{background:#ed4245;color:#fff}.app-content[_ngcontent-%COMP%]{height:100vh;overflow:hidden}.title-bar[_ngcontent-%COMP%] ~ .app-content[_ngcontent-%COMP%]{height:calc(100vh - 30px)}body.floating-mode[_nghost-%COMP%]   .title-bar[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .title-bar[_ngcontent-%COMP%]{display:none!important}body.floating-mode[_nghost-%COMP%]   .app-content[_ngcontent-%COMP%], body.floating-mode   [_nghost-%COMP%]   .app-content[_ngcontent-%COMP%]{height:100vh!important}"]})}}return t})();Yo(la,ca).catch(t=>console.error(t));
